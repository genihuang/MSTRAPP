!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/common"),require("rxjs/operators"),require("@allianz/ngx-ndbx/utils"),require("@angular/core")):"function"==typeof define&&define.amd?define("@allianz/ngx-ndbx/formfield",["exports","@angular/common","rxjs/operators","@allianz/ngx-ndbx/utils","@angular/core"],n):n((e.allianz=e.allianz||{},e.allianz["ngx-ndbx"]=e.allianz["ngx-ndbx"]||{},e.allianz["ngx-ndbx"].formfield={}),e.ng.common,e.rxjs.operators,e.allianz["ngx-ndbx"].utils,e.ng.core)}(this,function(e,n,i,t,o){"use strict";var r=0,l=function(){function e(){this.id="nx-formfield-error-"+r++}return e.decorators=[{type:o.Directive,args:[{selector:"[nxFormfieldError], [nxError]",host:{role:"alert","[attr.id]":"id"}}]}],e.propDecorators={id:[{type:o.Input}]},e}(),f=function(){function e(){}return e.decorators=[{type:o.Directive,args:[{selector:"nx-formfield-label"}]}],e}();function a(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,o,r=t.call(e),l=[];try{for(;(void 0===n||0<n--)&&!(i=r.next()).done;)l.push(i.value)}catch(f){o={error:f}}finally{try{i&&!i.done&&(t=r["return"])&&t.call(r)}finally{if(o)throw o.error}}return l}function s(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(a(arguments[n]));return e}var d=0,x=function(){function e(){this.id="nx-formfield-hint-"+d++}return e.decorators=[{type:o.Directive,args:[{selector:"[nxFormfieldHint]",host:{"[attr.id]":"id"}}]}],e.propDecorators={id:[{type:o.Input}]},e}(),p=0,c=function(){function e(){this.id="nx-formfield-note-"+p++}return e.decorators=[{type:o.Directive,args:[{selector:"[nxFormfieldNote]",host:{"[attr.id]":"id"}}]}],e.propDecorators={id:[{type:o.Input}]},e}(),h=function C(){},u=function(){function e(){}return e.decorators=[{type:o.Directive,args:[{selector:"[nxFormfieldSuffix]"}]}],e}(),m=function(){function e(){}return e.decorators=[{type:o.Directive,args:[{selector:"[nxFormfieldPrefix]"}]}],e}(),g=0,_=function(){function e(){this.id="nx-formfield-appendix-"+g++}return e.decorators=[{type:o.Directive,args:[{selector:"[nxFormfieldAppendix]",host:{"[attr.id]":"id"}}]}],e.propDecorators={id:[{type:o.Input}]},e}(),b={negative:"nx-formfield--negative"},y=new o.InjectionToken("FORMFIELD_DEFAULT_OPTIONS"),v=function(){function e(e,n,t,i){this.elementRef=e,this.renderer=n,this._changeDetectorRef=t,this._defaultOptions=i,this._styles="",this._subscriptions=[]}return Object.defineProperty(e.prototype,"floatLabel",{get:function(){return this._floatLabel||this._defaultOptions&&this._defaultOptions.nxFloatLabel||"auto"},set:function(e){e!==this._floatLabel&&(this._floatLabel=e||"auto",this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styles",{set:function(e){var n=this;this._styles!==e&&(t.getClassNameList(e,b).forEach(function(e){n.renderer.addClass(n.elementRef.nativeElement,e)}),this._styles=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appearance",{get:function(){return this._appearance||this._defaultOptions&&this._defaultOptions.appearance||"auto"},set:function(e){this._appearance!==e&&(this._appearance=e,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_shouldAlwaysFloat",{get:function(){return"always"===this.floatLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldLabelFloat",{get:function(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e,n=this,t=[];this._validateControlChild(),e=this._control.stateChanges.pipe(i.startWith(null)).subscribe(function(){n._syncDescribedByIds(),n._changeDetectorRef.markForCheck()}),t.push(e),e=this._hintChildren.changes.pipe(i.startWith(null)).subscribe(function(){n._changeDetectorRef.markForCheck()}),t.push(e),e=this._errorChildren.changes.pipe(i.startWith(null)).subscribe(function(){n._syncDescribedByIds(),n._changeDetectorRef.markForCheck()}),t.push(e),this._subscriptions=t},e.prototype.ngAfterContentChecked=function(){this._validateControlChild()},e.prototype.ngOnDestroy=function(){this._subscriptions.forEach(function(e){return e.unsubscribe()})},e.prototype.getDisplayedMessage=function(){return this._control.errorState&&this._errorChildren&&0<this._errorChildren.length?"error":"hint"},e.prototype._syncDescribedByIds=function(){if(this._control){var e=[];e=this._noteChildren.map(function(e){return e.id}),"hint"===this.getDisplayedMessage()?e=s(this._hintChildren.map(function(e){return e.id}),e):this._errorChildren&&(e=s(this._errorChildren.map(function(e){return e.id}),e)),this._control.setDescribedByIds(e)}},e.prototype._validateControlChild=function(){if(!this._control)throw new Error("Formfield must contain a NxFormfieldControl like input[nxInput] or a custom implementation")},e.prototype.getConnectedOverlayOrigin=function(){return this._connectionContainerRef||this.elementRef},e.decorators=[{type:o.Component,args:[{selector:"nx-formfield",template:'\x3c!--\nWe are building the following structure.\n\n+-----------------------------+ +-----------+\n| Prefix |   Input   | Suffix | |  Appendix |\n+-----------------------------+ +-----------+\n|-----------------Border--------------------|\n+-------------------------------------------+\n|                 Hints                     |\n+-------------------------------------------+\n|                                           |\n|                Messages                   |\n|                                           |\n+-------------------------------------------+\n\n--\x3e\n\n<div class="nx-formfield__wrapper">\n\n\n  \x3c!-- Give a flex context to properly align suffix, input & postfix --\x3e\n  <div class="nx-formfield__row"  #connectionContainer>\n    <div class="nx-formfield__flexfield">\n      <div class="nx-formfield__prefix" *ngIf="_prefixChildren.length">\n          <ng-content select="[nxFormfieldPrefix]"></ng-content>\n      </div>\n\n      <div class="nx-formfield__input">\n        <ng-content></ng-content>\n\n        \x3c!-- This handles the floating whole behavior --\x3e\n        <span class="nx-formfield__label-holder">\n          <label\n            class="nx-formfield__label"\n            [attr.aria-owns]="_control.id"\n            [attr.for]="_control.id">\n            <ng-container *ngIf="!_labelChild">\n              {{ label }}\n            </ng-container>\n            <ng-content select="nx-formfield-label"></ng-content>\n          </label>\n        </span>\n      </div>\n\n      <div class="nx-formfield__suffix" *ngIf="_suffixChildren.length">\n          <ng-content select="[nxFormfieldSuffix]"></ng-content>\n      </div>\n    </div>\n\n    \x3c!-- Appendix is similar to a suffix but visibly outside of the input  --\x3e\n    <div class="nx-formfield__appendix" *ngIf="_appendixChildren.length">\n      <ng-content select="[nxFormfieldAppendix]"></ng-content>\n    </div>\n  </div>\n\n  \x3c!-- Space to render the hints below the textfield --\x3e\n  <div class="nx-formfield__hints" *ngIf="_hintChildren.length">\n      <ng-content select="[nxFormfieldHint]"></ng-content>\n  </div>\n\n  \x3c!-- In case we got some additional information we render them below the given input --\x3e\n  <div class="nx-formfield__messages" [ngSwitch]="getDisplayedMessage()">\n    <div *ngSwitchCase="\'error\'">\n      <ng-content select="[nxFormfieldError]"></ng-content>\n    </div>\n\n    <div *ngSwitchCase="\'hint\'">\n      <ng-content select="[nxFormfieldNote]"></ng-content>\n    </div>\n  </div>\n</div>\n\n\n',host:{"[class.nx-formfield]":"true","[class.is-disabled]":"this._control.disabled","[class.is-readonly]":"this._control.readonly","[class.is-filled]":"this._control.empty === false","[class.is-focused]":"this._control.focused","[class.is-floating]":"this.shouldLabelFloat","[class.has-error]":"this._control.errorState","[class.has-outline]":'this.appearance === "outline"'},changeDetection:o.ChangeDetectionStrategy.OnPush,encapsulation:o.ViewEncapsulation.None,styles:[".nx-formfield{display:block;font-size:20px;color:#414141;text-align:left}.nx-formfield__wrapper{padding-bottom:24px}.nx-formfield__input{position:relative;line-height:28px;letter-spacing:.2px;flex:auto;min-width:0}.nx-formfield__label-holder{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;pointer-events:none;z-index:10;top:-16px;padding-top:16px}.nx-formfield__label{color:inherit;display:block;position:absolute;left:0;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;-webkit-transform-origin:0 0;transform-origin:0 0;transition:transform .15s ease-out,font-size .15s ease-out,-webkit-transform .15s ease-out;font-weight:300;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;letter-spacing:.2px}.nx-formfield__flexfield{display:inline-flex;align-items:flex-end;width:100%;border-bottom:1px solid currentColor;margin-top:16px;padding-bottom:3px}.nx-formfield__row{display:flex;align-items:center;width:100%}.nx-formfield__input textarea[nxInput]{vertical-align:bottom}.nx-formfield__appendix,.nx-formfield__prefix,.nx-formfield__suffix{flex:none;white-space:nowrap;color:#414141;font-weight:600;letter-spacing:.2px}.nx-formfield__appendix nx-icon.nx-icon--auto,.nx-formfield__prefix nx-icon.nx-icon--auto,.nx-formfield__suffix nx-icon.nx-icon--auto{font-size:24px;font-weight:400}.nx-formfield__appendix nx-icon,.nx-formfield__prefix nx-icon,.nx-formfield__suffix nx-icon{display:block;color:#006192;height:24px}.nx-formfield__appendix nx-password-toggle nx-icon,.nx-formfield__prefix nx-password-toggle nx-icon,.nx-formfield__suffix nx-password-toggle nx-icon{color:#414141}.nx-formfield__prefix,.nx-formfield__suffix{line-height:28px;height:28px;display:inline-flex;align-items:center}.nx-formfield__appendix{margin-left:8px;margin-top:16px;display:flex;border-bottom:1px solid transparent;padding-bottom:3px;align-items:center}.nx-formfield__prefix{margin-right:8px}.nx-formfield__suffix{margin-left:8px}.nx-formfield__hints{text-align:right;color:#414141;font-size:12px;line-height:16px;letter-spacing:.5px;padding-top:8px}.nx-formfield__messages{margin-top:4px}.nx-formfield.is-focused .nx-formfield__label{text-overflow:ellipsis;font-weight:600;font-size:12px}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error){color:#006192}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error) .nx-formfield__label{color:#414141}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error) .nx-formfield__flexfield{border-bottom-color:#007ab3}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error).nx-formfield--negative{color:#fff}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error) nx-password-toggle nx-icon{color:#007ab3}.nx-formfield.is-focused:not(.nx-formfield--negative).has-outline .nx-formfield__flexfield{border-color:#006192;box-shadow:0 0 0 2px #009de6}.nx-formfield.is-focused:not(.nx-formfield--negative).has-outline.has-error .nx-formfield__flexfield{border-color:#dc3149}.nx-formfield.is-focused:not(.nx-formfield--negative).has-outline nx-password-toggle nx-icon{color:#007ab3}.nx-formfield.has-outline{font-size:16px;line-height:24px}.nx-formfield.has-outline .nx-formfield__flexfield{border:1px solid #767676;border-radius:4px;margin-top:28px;min-height:40px;align-items:center;padding-bottom:0}.nx-formfield.has-outline .nx-formfield__label{padding-left:7px;padding-right:7px}.nx-formfield.has-outline .nx-formfield__input{margin-top:0;padding-bottom:0;line-height:38px}.nx-formfield.has-outline .nx-formfield__input input[nxInput],.nx-formfield.has-outline .nx-formfield__input textarea[nxInput]{font-weight:400}.nx-formfield.has-outline .nx-formfield__input textarea[nxInput]{min-height:38px;line-height:24px;padding:7px}.nx-formfield.has-outline .nx-formfield__input input[nxInput]{padding-right:7px;padding-left:7px;line-height:normal}.nx-formfield.has-outline nx-dropdown .nx-dropdown__icon{display:flex}.nx-formfield.has-outline nx-dropdown .nx-dropdown__container{padding-left:7px;height:38px}.nx-formfield.has-outline nx-datepicker-toggle .nx-datepicker-toggle-button{padding:0}.nx-formfield.has-outline .nx-formfield__appendix,.nx-formfield.has-outline .nx-formfield__prefix,.nx-formfield.has-outline .nx-formfield__suffix{font-weight:400}.nx-formfield.has-outline .nx-formfield__prefix,.nx-formfield.has-outline .nx-formfield__suffix{height:38px;line-height:38px}.nx-formfield.has-outline .nx-formfield__prefix{margin-left:7px;margin-right:0}.nx-formfield.has-outline .nx-formfield__suffix{margin-right:7px;margin-left:0}.nx-formfield.has-outline .nx-formfield__appendix{margin-left:8px;display:flex;margin-top:28px;border-top:1px solid transparent;border-bottom:1px solid transparent;padding-bottom:0}.nx-formfield.has-outline .nx-formfield__hints{text-align:left;font-size:16px}.nx-formfield.has-outline.is-readonly .nx-formfield__flexfield{border-color:#c2c2c2;background-color:#f5f5f5}.nx-formfield.is-floating .nx-formfield__label{-webkit-transform:translateY(-22px);transform:translateY(-22px);font-size:12px;font-weight:600;letter-spacing:.5px}.nx-formfield.is-floating.has-outline .nx-formfield__label-holder{top:-24px;padding-top:24px}.nx-formfield.is-floating.has-outline .nx-formfield__label{padding-top:0;-webkit-transform:translateX(-8px) translateY(-29px);transform:translateX(-8px) translateY(-29px);font-size:16px;line-height:24px}.nx-formfield.is-floating.has-outline .nx-formfield__prefix~.nx-formfield__input .nx-formfield__label{-webkit-transform:translateY(-29px);transform:translateY(-29px)}.nx-formfield.has-error{color:#dc3149}.nx-formfield.has-error .nx-formfield__label{font-weight:700}.nx-formfield.has-error.is-floating .nx-formfield__label{color:#414141;font-weight:600}.nx-formfield.has-error.has-outline{color:#414141}.nx-formfield.has-error.has-outline .nx-formfield__flexfield{border-color:#dc3149}.nx-formfield.has-error nx-password-toggle nx-icon{color:#dc3149}.nx-formfield.is-disabled{color:#c2c2c2;cursor:not-allowed;-webkit-text-fill-color:#c2c2c2}.nx-formfield.is-disabled .nx-formfield__hints{color:inherit}.nx-formfield.is-disabled .nx-formfield__flexfield{border-bottom-color:#c2c2c2}.nx-formfield.is-disabled.has-outline .nx-formfield__flexfield{border-color:#c2c2c2}.nx-formfield--negative{color:#fff}.nx-formfield--negative .nx-formfield__hints{color:inherit}.nx-formfield--negative.has-outline .nx-formfield__flexfield{border-color:#fff}.nx-formfield--negative nx-password-toggle nx-icon{color:#fff}",".c-input{text-align:inherit;font-size:inherit;background:0 0;color:inherit;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;line-height:28px;height:28px}.c-input::-ms-clear{display:none}.c-input::-webkit-search-cancel-button,.c-input::-webkit-search-decoration,.c-input::-webkit-search-results-button,.c-input::-webkit-search-results-decoration{display:none;-webkit-appearance:none}textarea.c-input{min-height:28px;height:auto;font-family:inherit}.c-input.is-focused{border:none;outline:0;box-shadow:none}.c-input.is-filled{font-weight:600}.c-input.is-disabled{cursor:not-allowed}textarea.nx-input-element{resize:vertical;overflow:auto}.c-input:invalid,.c-input:required{box-shadow:none}"]}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:o.ChangeDetectorRef},{type:undefined,decorators:[{type:o.Optional},{type:o.Inject,args:[y]}]}]},e.propDecorators={_control:[{type:o.ContentChild,args:[h]}],label:[{type:o.Input,args:["nxLabel"]}],_labelChild:[{type:o.ContentChild,args:[f]}],_hintChildren:[{type:o.ContentChildren,args:[x]}],_noteChildren:[{type:o.ContentChildren,args:[c]}],_errorChildren:[{type:o.ContentChildren,args:[l]}],_suffixChildren:[{type:o.ContentChildren,args:[u]}],_prefixChildren:[{type:o.ContentChildren,args:[m]}],_appendixChildren:[{type:o.ContentChildren,args:[_]}],_connectionContainerRef:[{type:o.ViewChild,args:["connectionContainer"]}],floatLabel:[{type:o.Input,args:["nxFloatLabel"]}],styles:[{type:o.Input,args:["nxStyle"]}],appearance:[{type:o.Input}]},e}(),w=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule],declarations:[v,x,l,c,m,u,_,f],exports:[v,x,l,c,m,u,_,f]}]}],e}();e.NxFormfieldErrorDirective=l,e.NxFormfieldLabelDirective=f,e.NxFormfieldModule=w,e.FORMFIELD_DEFAULT_OPTIONS=y,e.NxFormfieldComponent=v,e.NxFormfieldControl=h,e.ɵe=_,e.ɵa=x,e.ɵb=c,e.ɵd=m,e.ɵc=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=allianz-ngx-ndbx-formfield.umd.min.js.map