!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@allianz/ngx-ndbx/icon"),require("@angular/common"),require("@angular/core"),require("@angular/cdk/keycodes"),require("@angular/cdk/coercion")):"function"==typeof define&&define.amd?define("@allianz/ngx-ndbx/sidebar",["exports","@allianz/ngx-ndbx/icon","@angular/common","@angular/core","@angular/cdk/keycodes","@angular/cdk/coercion"],t):t((e.allianz=e.allianz||{},e.allianz["ngx-ndbx"]=e.allianz["ngx-ndbx"]||{},e.allianz["ngx-ndbx"].sidebar={}),e.allianz["ngx-ndbx"].icon,e.ng.common,e.ng.core,e.ng.cdk.keycodes,e.ng.cdk.coercion)}(this,function(e,t,n,i,o,r){"use strict";var s=168,a=function(){function e(e,t,n){this._changeDetectorRef=e,this.renderer=t,this._element=n,this.widthChange=new i.EventEmitter,this._resizeable=!1,this._minWidth=56,this._resizeHandleAriaLabel="",this._open=!0,this._width=0,this._resizing=!1,this._previousWidth=0,this._isMobile=!1,this._resizeWidth=0,this._unsubscribeListeners=[],this._onResize=this._onResize.bind(this),this._onResizeEnd=this._onResizeEnd.bind(this)}return Object.defineProperty(e.prototype,"resizeable",{get:function(){return this._resizeable},set:function(e){var t=r.coerceBooleanProperty(e);t!==this._resizeable&&(this._resizeable=t,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){return this._minWidth},set:function(e){this._minWidth=r.coerceNumberProperty(e)||56},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resizeHandleAriaLabel",{get:function(){return this._resizeHandleAriaLabel},set:function(e){e!==this._resizeHandleAriaLabel&&(this._resizeHandleAriaLabel=e,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"open",{get:function(){return this._open},set:function(e){var t=r.coerceBooleanProperty(e);t!==this._open&&(this._open=t,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(e){var t=Math.max(e,this.minWidth);t!==this._width&&(this._width=t,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.width=this._element.nativeElement.clientWidth},e.prototype.ngOnDestroy=function(){this._removeDragEventListeners()},e.prototype.expand=function(){this.open=!0},e.prototype.close=function(){this.open=!1},e.prototype.toggle=function(){this.open?this.close():this.expand(),this._emitWidthChange(this._sidebarElementWidth)},Object.defineProperty(e.prototype,"_sidebarElementWidth",{get:function(){return this._resizing?this._resizeWidth:this.open?this.width:this.minWidth},enumerable:!0,configurable:!0}),e.prototype._onResizeStart=function(e){e.type.startsWith("touch")&&(e=e.changedTouches[0]),this._resizeStartX=e.screenX,this._resizeStartWidth=this.open?this.width:this.minWidth,this._resizeWidth=this.width,this._attachDragEventListeners()},e.prototype._onResize=function(e){this._resizing=!0,e.type.startsWith("touch")&&(e=e.changedTouches[0]);var t=e.screenX-this._resizeStartX;this._resizeWidth=Math.max(this.minWidth,this._resizeStartWidth+t),this.open=this._resizeWidth>this.minWidth},e.prototype._onResizeEnd=function(e){this._resizing=!1,this._removeDragEventListeners(),this._isMouseDrag(this._resizeStartX,e.screenX)&&(this._resizeWidth<s?(this.open=!1,this._emitWidthChange(this._sidebarElementWidth)):(this.open=!0,this.width=Math.min(400,this._resizeWidth),this._emitWidthChange(this.width))),this._resizeWidth=0},e.prototype._onToggleClick=function(){this.toggle()},e.prototype._onResizeHandleClick=function(e){this._isMouseDrag(this._resizeStartX,e.screenX)||this.toggle()},e.prototype._onSidebarKeydown=function(e){e.which===o.SPACE?(e.preventDefault(),this.toggle()):e.which===o.LEFT_ARROW?(this.width=this.width-20,this.width<=s&&(this.open=!1,this.width=169),this._emitWidthChange(this.width)):e.which===o.RIGHT_ARROW&&(this.open?this.width=Math.min(400,this.width+20):(this.open=!0,this.width=Math.max(this.width,s)),this._emitWidthChange(this.width))},e.prototype._emitWidthChange=function(e){this.widthChange.emit(e)},e.prototype._isMouseDrag=function(e,t){return 5<Math.abs(t-e)},e.prototype._attachDragEventListeners=function(){this._unsubscribeListeners.push(this.renderer.listen("document","mousemove",this._onResize)),this._unsubscribeListeners.push(this.renderer.listen("document","mouseup",this._onResizeEnd)),this._unsubscribeListeners.push(this.renderer.listen("document","touchmove",this._onResize)),this._unsubscribeListeners.push(this.renderer.listen("document","touchend",this._onResizeEnd))},e.prototype._removeDragEventListeners=function(){this._unsubscribeListeners.forEach(function(e){return e()})},e.decorators=[{type:i.Component,args:[{template:'<div class="nx-sidebar__box"\n  [attr.aria-expanded]="open">\n  <div class="nx-sidebar__content">\n    <ng-content></ng-content>\n  </div>\n  <div class="nx-sidebar__toggle">\n    <button class="nx-sidebar__toggle-button"\n        (click)="_onToggleClick()"\n        [attr.aria-label]="resizeHandleAriaLabel"\n        type="button">\n        <nx-icon name="chevron-left" aria-hidden="true"></nx-icon>\n        <nx-icon name="chevron-left" aria-hidden="true"></nx-icon>\n    </button>\n  </div>\n</div>\n\n<button class="nx-sidebar__handle"\n  *ngIf="resizeable"\n  tabindex="0"\n  type="button"\n  (mousedown)="_onResizeStart($event)"\n  (keydown)="_onSidebarKeydown($event)"\n  (touchstart)="_onResizeStart($event)"\n  (click)="_onResizeHandleClick($event)"\n  [attr.aria-label]="resizeHandleAriaLabel"></button>\n',selector:"nx-sidebar",changeDetection:i.ChangeDetectionStrategy.OnPush,host:{"[class.is-resizing]":"_resizing","[class.is-closed]":"!open","[style.width.px]":"_sidebarElementWidth"},styles:[":host{position:relative;height:100%;transition:width .15s;display:flex;flex:0 0 auto;width:280px}:host.is-resizing{transition:none}@media (max-width:703px){:host{width:100%;position:absolute;transition:none}:host .nx-sidebar__handle{display:none}}:host.is-closed .nx-sidebar__toggle-button{-webkit-transform:rotateZ(180deg);transform:rotateZ(180deg)}.nx-sidebar__toggle{display:flex;padding:16px 0;justify-content:flex-end;flex-shrink:0}.nx-sidebar__toggle::after,.nx-sidebar__toggle::before{content:'';display:block;flex:0 1 24px}.nx-sidebar__handle{position:absolute;right:-14px;top:0;bottom:0;display:flex;flex:0 0 16px;justify-content:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;box-shadow:none;background:0 0;margin:0;cursor:col-resize;color:#c2c2c2;outline:0;z-index:1}.nx-sidebar__handle::before{content:'||';font-size:14px;letter-spacing:-1px;font-weight:600;color:inherit}.nx-sidebar__handle::-moz-focus-inner{border:0}.nx-sidebar__toggle-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;box-shadow:none;background:0 0;margin:0;padding:0;cursor:pointer;color:#414141;outline:0;white-space:nowrap;font-size:22px}.nx-sidebar__toggle-button:hover{color:#999}.nx-sidebar__toggle-button:active{color:#5b5b5b}:host-context([data-whatinput=keyboard]) .nx-sidebar__toggle-button:focus{box-shadow:0 0 0 4px #009de6;border-radius:4px}.nx-sidebar__toggle-button>nx-icon:last-child{margin-left:-16px}.nx-sidebar__toggle-button::-moz-focus-inner{border:0}.nx-sidebar__box{height:100%;flex:1 1 100%;display:flex;overflow:hidden;flex-direction:column;background-color:#f5f5f5}@media screen and (-ms-high-contrast:active){.nx-sidebar__handle::before{box-shadow:0 0 0 6px window,0 0 0 8px windowText}.nx-sidebar__toggle-button{border:1px solid windowText;padding-top:4px}.nx-sidebar__box{border-right:1px solid windowText}}.nx-sidebar__content{flex:1 1 100%;overflow:hidden;overflow-y:auto;padding-top:16px}"]}]}],e.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:i.Renderer2},{type:i.ElementRef}]},e.propDecorators={widthChange:[{type:i.Output}],resizeable:[{type:i.Input}],minWidth:[{type:i.Input}],resizeHandleAriaLabel:[{type:i.Input}]},e}(),h=function(){function e(){}return e.decorators=[{type:i.NgModule,args:[{imports:[n.CommonModule,t.NxIconModule],declarations:[a],exports:[a]}]}],e}();e.NxSidebarModule=h,e.MAX_WIDTH=400,e.MIN_WIDTH=56,e.AUTO_COLLAPSE_WIDTH=s,e.RESIZE_STEP_SIZE=20,e.NxSidebarComponent=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=allianz-ngx-ndbx-sidebar.umd.min.js.map