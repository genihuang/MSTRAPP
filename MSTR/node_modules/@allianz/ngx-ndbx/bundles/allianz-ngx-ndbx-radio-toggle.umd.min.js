!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@allianz/ngx-ndbx/utils"),require("@angular/forms"),require("rxjs/operators"),require("rxjs"),require("@angular/cdk/coercion"),require("@angular/cdk/collections"),require("@angular/core"),require("@allianz/ngx-ndbx/icon")):"function"==typeof define&&define.amd?define("@allianz/ngx-ndbx/radio-toggle",["exports","@angular/common","@allianz/ngx-ndbx/utils","@angular/forms","rxjs/operators","rxjs","@angular/cdk/coercion","@angular/cdk/collections","@angular/core","@allianz/ngx-ndbx/icon"],t):t((e.allianz=e.allianz||{},e.allianz["ngx-ndbx"]=e.allianz["ngx-ndbx"]||{},e.allianz["ngx-ndbx"]["radio-toggle"]={}),e.ng.common,e.allianz["ngx-ndbx"].utils,e.ng.forms,e.rxjs.operators,e.rxjs,e.ng.cdk.coercion,e.ng.cdk.collections,e.ng.core,e.allianz["ngx-ndbx"].icon)}(this,function(e,t,o,n,a,l,r,c,g,i){"use strict";var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};function d(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,i=o.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)a.push(n.value)}catch(l){r={error:l}}finally{try{n&&!n.done&&(o=i["return"])&&o.call(i)}finally{if(r)throw r.error}}return a}var u=0,p=function(){function e(e){this.renderer=e,this.toggleButtonId="nx-radio-toggle-button-"+u++}return e.prototype.triggerInputClick=function(e){e.stopPropagation(),this.toggleInput.nativeElement.click()},e.prototype.setFirstButton=function(){this.renderer.addClass(this.labelContainer.nativeElement,"nx-radio-toggle__label-container--first")},e.prototype.setLastButton=function(){this.renderer.addClass(this.labelContainer.nativeElement,"nx-radio-toggle__label-container--last")},e.prototype.resetClasses=function(){o.removeClasses(this.renderer,this.labelContainer,"nx-radio-toggle__label-container--first nx-radio-toggle__label-container--last")},e.propDecorators={value:[{type:g.Input,args:["nxValue"]}],labelContainer:[{type:g.ViewChild,args:["toggleButtonLabelContainer"]}],toggleInput:[{type:g.ViewChild,args:["toggleInput"]}]},e}(),f=0,h={negative:"nx-radio-toggle--negative",small:"nx-radio-toggle--small"},b=function(){function e(e,t){this.renderer=e,this._changeDetectorRef=t,this._toggleId=(f++).toString(),this._destroyed=new l.Subject,this._disabled=!1,this._disableChange=new l.Subject,this.toggleButtons=new g.QueryList,this.onTouchedCallback=function(){},this.onChangeCallback=function(e){}}return Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){var t=r.coerceBooleanProperty(e);this._disabled!==t&&(this._disabled=t,this._disableChange.next())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.subscribeToToggleButtonsChange()},e.prototype.ngAfterContentInit=function(){var t=this,e=l.merge(this.toggleButtons.changes,this._destroyed);l.merge.apply(void 0,function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}(this.toggleButtons.map(function(e){return e.onChecked}))).pipe(a.takeUntil(e)).subscribe(function(e){t._selection=e.value,t.onChangeCallback(t._selection)})},e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete(),this._disableChange.complete()},e.prototype.subscribeToToggleButtonsChange=function(){var t=this;this.toggleButtons.changes.pipe(a.startWith(this.toggleButtons),a.filter(function(e){return 0<e.length}),a.takeUntil(this._destroyed)).subscribe(function(e){e.forEach(function(e){e.resetClasses(),e.value===t.selection&&setTimeout(function(){return e.select()})}),e.first.setFirstButton(),e.last.setLastButton()})},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.writeValue=function(e){var t=this;this._selection=e;var o=this.toggleButtons.find(function(e){return e.value===t._selection});o&&o.select()},e.prototype.setDisabledState=function(e){this.disabled=e},Object.defineProperty(e.prototype,"id",{get:function(){return"nx-radio-toggle-"+this._toggleId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{set:function(e){var t=this;o.mapClassNames(e,[],h).split(" ").forEach(function(e){return t.renderer.addClass(t.toggleContainer.nativeElement,e)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},set:function(e){this._selection=e,this.onChangeCallback(e)},enumerable:!0,configurable:!0}),e.decorators=[{type:g.Component,args:[{selector:"nx-radio-toggle",template:'<div #toggleContainer class="nx-radio-toggle" role="radiogroup" [attr.aria-label]="name">\n   <ng-content></ng-content>\n</div>\n',changeDetection:g.ChangeDetectionStrategy.OnPush,providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:g.forwardRef(function(){return e}),multi:!0}],styles:[".nx-radio-toggle{display:flex;height:100%}.nx-radio-toggle:focus+.nx-radio-toggle__label-container{background-color:#fff;border-color:#fff;color:#006192}.nx-radio-toggle:hover+.nx-radio-toggle__label-container{background-color:#fff;border-color:#fff;color:#075994}@media (max-width:703px){.nx-radio-toggle{flex-direction:column;text-align:center;width:100%;justify-content:center;align-items:center}}"]}]}],e.ctorParameters=function(){return[{type:g.Renderer2},{type:g.ChangeDetectorRef}]},e.propDecorators={disabled:[{type:g.Input,args:["nxDisabled"]}],toggleContainer:[{type:g.ViewChild,args:["toggleContainer"]}],name:[{type:g.Input,args:["nxName"]}],toggleButtons:[{type:g.ContentChildren,args:[p]}],writeValue:[{type:g.Input,args:["nxSelection"]}],style:[{type:g.Input,args:["nxStyle"]}]},e}(),x=function m(e,t){this.source=e,this.value=t},_=function(i){function e(e,t,o,n){var r=i.call(this,t)||this;return r.radioToggle=e,r._changeDetectorRef=o,r._toggleDispatcher=n,r.onChecked=new l.Subject,r._destroyed=new l.Subject,r._disabled=!1,r._selected=!1,r._removeUniqueSelectionListener=function(){},r._removeUniqueSelectionListener=r._toggleDispatcher.listen(function(e,t){r.radioToggle&&r.radioToggle.id===t&&r.id!==e&&(r._selected=!1,r._changeDetectorRef.markForCheck())}),r.radioToggle._disableChange.pipe(a.takeUntil(r._destroyed)).subscribe(function(){r._changeDetectorRef.markForCheck()}),r}return function n(e,t){function o(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}(e,i),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled||this.radioToggle&&this.radioToggle.disabled},set:function(e){this._disabled=r.coerceBooleanProperty(e),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected!==e&&(this._selected=e,this._selected&&(this._notifySiblings(),this._emitCheckedEvent()),this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._removeUniqueSelectionListener(),this._destroyed.next(),this._destroyed.complete()},Object.defineProperty(e.prototype,"toggleId",{get:function(){return this.radioToggle.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.toggleButtonId},enumerable:!0,configurable:!0}),e.prototype._notifySiblings=function(){var e=this.radioToggle?this.radioToggle.id:this.id;this._toggleDispatcher.notify(this.id,e)},e.prototype._emitCheckedEvent=function(){this.onChecked.next(new x(this,this.value))},e.prototype.select=function(){this._selected||(this._selected=!0,this._notifySiblings()),this._changeDetectorRef.markForCheck()},e.prototype.onKeyupSpace=function(){this._selected=!1,this._notifySiblings()},e.decorators=[{type:g.Component,args:[{selector:"nx-radio-toggle-button",changeDetection:g.ChangeDetectionStrategy.OnPush,template:'<input [attr.id]="toggleButtonId"\n    #toggleInput\n    [attr.name]="toggleId"\n    [checked]="selected"\n    class="nx-radio-toggle__input"\n    type="radio"\n    (click)="selected = true"\n    [disabled]="disabled">\n<div (click)="triggerInputClick($event)" #toggleButtonLabelContainer class="nx-radio-toggle__label-container">\n  <label [attr.for]="toggleButtonId" class="nx-radio-toggle__label">\n      <nx-icon class="nx-toggle-button__mobile-check" name="check" aria-hidden="true"></nx-icon>\n      <ng-content></ng-content>\n  </label>\n</div>\n\n\n',providers:[{provide:p,useExisting:g.forwardRef(function(){return e})}],styles:[":host{display:flex;position:relative;flex-direction:row}.nx-radio-toggle__input{opacity:0;position:absolute}.nx-radio-toggle__input:active+.nx-radio-toggle__label-container{background-color:#003781;border-color:#003781;color:#fff}.nx-radio-toggle__input:disabled+.nx-radio-toggle__label-container{background-color:#b2d7e8;border-color:#b2d7e8;color:#fff;cursor:not-allowed}.nx-radio-toggle__input:disabled+.nx-radio-toggle__label-container .nx-radio-toggle__label{cursor:not-allowed}.nx-radio-toggle__input:checked+.nx-radio-toggle__label-container{background-color:#007ab3;border-color:#007ab3;color:#fff;cursor:default}.nx-radio-toggle__input:checked+.nx-radio-toggle__label-container .nx-radio-toggle__label{cursor:default}@media screen and (-ms-high-contrast:active){.nx-radio-toggle__input:checked+.nx-radio-toggle__label-container{background-color:#ff0;cursor:default;border-color:inherit}.nx-radio-toggle__input:checked+.nx-radio-toggle__label-container .nx-radio-toggle__label{background-color:#000}}.nx-toggle-button__mobile-check{display:none;font-size:24px;margin-right:8px;height:24px}:host-context(.nx-radio-toggle--small) .nx-radio-toggle__label-container{font-size:14px;min-height:16px;padding:6px;text-transform:none;line-height:16px}.nx-radio-toggle{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.nx-radio-toggle__label-container.nx-radio-toggle__label-container--first{border-radius:4px 0 0 4px;border-width:2px 0 2px 2px}@media (max-width:703px){:host{width:100%}.nx-radio-toggle__input:checked+.nx-radio-toggle__label-container .nx-toggle-button__mobile-check{display:inline-block}:host-context(.nx-radio-toggle--small) .nx-radio-toggle__label-container{line-height:24px;padding:11px 31px}.nx-radio-toggle__label-container.nx-radio-toggle__label-container--first{border-width:2px 2px 1px;border-radius:4px 4px 0 0}}.nx-radio-toggle__label-container.nx-radio-toggle__label-container--last{border-radius:0 4px 4px 0;border-width:2px}@media (max-width:703px){.nx-radio-toggle__label-container.nx-radio-toggle__label-container--last{border-width:1px 2px 2px;border-radius:0 0 4px 4px}}.nx-radio-toggle__label-container{padding:10px 30px;border:2px solid #007ab3;border-radius:0;border-width:2px 0 2px 2px;color:#007ab3;cursor:pointer;flex-grow:1;font-size:16px;font-weight:600;line-height:24px;text-align:center;text-transform:uppercase;transition:background-color .2s,border-color .2s,color .2s;display:flex;align-items:center;height:100%;min-height:24px}@media (max-width:703px){.nx-radio-toggle__label-container{border-width:1px 2px;justify-content:center;padding:11px 31px}}.nx-radio-toggle__label-container:hover{background-color:#075994;border-color:#075994;color:#fff}:host-context(.nx-radio-toggle--negative) .nx-radio-toggle__input:focus+.nx-radio-toggle__label-container{background-color:#d9d9d9;border-color:#d9d9d9;color:#007ab3}:host-context(.nx-radio-toggle--negative) .nx-radio-toggle__input:active+.nx-radio-toggle__label-container{background-color:#c2c2c2;border-color:#c2c2c2;color:#007ab3}:host-context(.nx-radio-toggle--negative) .nx-radio-toggle__input:disabled+.nx-radio-toggle__label-container{background-color:#fff;border-color:#fff;color:#d9d9d9}:host-context(.nx-radio-toggle--negative) .nx-radio-toggle__input:checked+.nx-radio-toggle__label-container{background-color:#fff;border-color:#fff;color:#007ab3}:host-context(.nx-radio-toggle--negative) .nx-radio-toggle__label-container{border-color:#fff;color:#fff}:host-context(.nx-radio-toggle--negative) .nx-radio-toggle__label-container:hover{background-color:#d9d9d9;border-color:#d9d9d9;color:#007ab3}.nx-radio-toggle__label{display:flex;align-items:center;cursor:pointer}:host-context([data-whatinput=keyboard]) .nx-radio-toggle__input:focus+.nx-radio-toggle__label-container{box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6;z-index:1}"]}]}],e.ctorParameters=function(){return[{type:b,decorators:[{type:g.Inject,args:[g.forwardRef(function(){return b})]}]},{type:g.Renderer2},{type:g.ChangeDetectorRef},{type:c.UniqueSelectionDispatcher}]},e.propDecorators={disabled:[{type:g.Input,args:["nxDisabled"]}],selected:[{type:g.Input,args:["nxSelected"]}],onKeyupSpace:[{type:g.HostListener,args:["keyup.space"]}]},e}(p),y=function(){function e(){}return e.decorators=[{type:g.NgModule,args:[{declarations:[b,_],exports:[b,_],imports:[t.CommonModule,n.FormsModule,i.NxIconModule]}]}],e}();e.NxRadioToggleModule=y,e.NxRadioToggleComponent=b,e.ɵa=p,e.ɵb=_,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=allianz-ngx-ndbx-radio-toggle.umd.min.js.map