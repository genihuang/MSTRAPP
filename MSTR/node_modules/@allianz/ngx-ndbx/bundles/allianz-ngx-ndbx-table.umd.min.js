!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@allianz/ngx-ndbx/icon"),require("@angular/cdk/coercion"),require("@angular/animations"),require("rxjs/operators"),require("@angular/cdk/keycodes"),require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("@allianz/ngx-ndbx/table",["exports","@angular/common","@allianz/ngx-ndbx/icon","@angular/cdk/coercion","@angular/animations","rxjs/operators","@angular/cdk/keycodes","@angular/core","rxjs"],t):t((e.allianz=e.allianz||{},e.allianz["ngx-ndbx"]=e.allianz["ngx-ndbx"]||{},e.allianz["ngx-ndbx"].table={}),e.ng.common,e.allianz["ngx-ndbx"].icon,e.ng.cdk.coercion,e.ng.animations,e.rxjs.operators,e.ng.cdk.keycodes,e.ng.core,e.rxjs)}(this,function(e,t,n,o,a,r,i,c,s){"use strict";var l=function(){function e(){}return e.decorators=[{type:c.Component,args:[{selector:"td[nxTableCell], td[nxCell]",template:"<ng-content></ng-content>",host:{"class":"nx-table-cell"},changeDetection:c.ChangeDetectionStrategy.OnPush}]}],e}(),d=function(){function e(){}return e.decorators=[{type:c.Directive,args:[{selector:"[nxHeaderCell]",host:{"class":"nx-header-cell"}}]}],e}(),p=function(){function e(e){this._changeDetectorRef=e}return Object.defineProperty(e.prototype,"condensed",{get:function(){return this._condensed},set:function(e){var t=o.coerceBooleanProperty(e);e!==this._condensed&&(this._condensed=t,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zebra",{get:function(){return this._zebra},set:function(e){var t=o.coerceBooleanProperty(e);e!==this._zebra&&(this._zebra=t,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),e.decorators=[{type:c.Component,args:[{selector:"table[nxTable]",template:"<ng-content></ng-content>",host:{"class":"nx-table","[class.nx-table--condensed]":"condensed","[class.nx-table--zebra]":"zebra"},changeDetection:c.ChangeDetectionStrategy.OnPush,styles:[":host{border-spacing:0;border-bottom:2px solid #414141;width:100%}::ng-deep .nx-header-cell{font-weight:600;line-height:24px;border-top:1px solid #d9d9d9;border-bottom:2px solid #414141;text-align:left;white-space:nowrap;padding:16px 16px 14px}::ng-deep .nx-header-cell:first-child{padding-left:8px}::ng-deep .nx-header-cell:last-child{padding-right:8px}::ng-deep .nx-table-cell{line-height:24px;border-top:1px solid #d9d9d9;padding:16px 16px 15px}::ng-deep .nx-table-cell:first-child{padding-left:8px}::ng-deep .nx-table-cell:last-child{padding-right:8px}:host(.nx-table--condensed) ::ng-deep .nx-table-cell{padding-bottom:7px;padding-top:8px}:host(.nx-table--zebra) ::ng-deep .nx-table-cell{border-top:1px solid #f5f5f5}:host(.nx-table--zebra) ::ng-deep .nx-table-cell--expandable{border-top:0}:host(.nx-table--condensed) ::ng-deep .nx-table-cell--expandable{padding-bottom:0;padding-top:0}:host(.nx-table--condensed) ::ng-deep .nx-table-cell--expandable .nx-table-cell__wrapper{padding-bottom:7px;padding-top:8px}::ng-deep .nx-expandable-table-cell__content{overflow:hidden}::ng-deep .nx-expandable-table-cell__wrapper{padding:16px}::ng-deep .nx-expandable-table-cell:first-child .nx-cell__wrapper{padding-left:8px}::ng-deep .nx-expandable-table-cell:last-child .nx-cell__wrapper{padding-right:8px}:host(.nx-table--condensed) ::ng-deep .nx-expandable-table-cell .nx-expandable-table-cell__wrapper{padding-bottom:7px;padding-top:8px}::ng-deep .nx-table-row:first-child .nx-table-cell{border-top:0}:host(.nx-table--zebra) ::ng-deep .nx-table-row:nth-child(2n){background-color:#f5f5f5}:host(.nx-table--zebra) ::ng-deep .nx-expandable-table-row:nth-child(4n){background-color:#f5f5f5}:host(.nx-table--zebra) ::ng-deep .nx-expandable-table-row:nth-child(4n)+.nx-table-row{background-color:#fff}:host(.nx-table--zebra) ::ng-deep .nx-expandable-table-row:nth-child(4n+2){background-color:#fff}:host(.nx-table--zebra) ::ng-deep .nx-expandable-table-row:nth-child(4n+2)+.nx-table-row{background-color:#f5f5f5}::ng-deep .nx-exandable-table-cell nx-checkbox,::ng-deep .nx-header-cell nx-checkbox,::ng-deep .nx-table-cell nx-checkbox{margin:0}::ng-deep .nx-exandable-table-cell nx-checkbox .nx-checkbox__label,::ng-deep .nx-header-cell nx-checkbox .nx-checkbox__label,::ng-deep .nx-table-cell nx-checkbox .nx-checkbox__label{padding:0}::ng-deep .nx-exandable-table-cell nx-taglist,::ng-deep .nx-header-cell nx-taglist,::ng-deep .nx-table-cell nx-taglist{margin:0}::ng-deep .nx-exandable-table-cell nx-taglist .nx-taglist__list-item,::ng-deep .nx-header-cell nx-taglist .nx-taglist__list-item,::ng-deep .nx-table-cell nx-taglist .nx-taglist__list-item{margin-bottom:0}::ng-deep .nx-exandable-table-cell button[nxbutton],::ng-deep .nx-header-cell button[nxbutton],::ng-deep .nx-table-cell button[nxbutton]{margin:0}::ng-deep .nx-exandable-table-cell nx-formfield .nx-formfield__wrapper,::ng-deep .nx-header-cell nx-formfield .nx-formfield__wrapper,::ng-deep .nx-table-cell nx-formfield .nx-formfield__wrapper{padding:0}::ng-deep .nx-exandable-table-cell [nxlist],::ng-deep .nx-header-cell [nxlist],::ng-deep .nx-table-cell [nxlist]{margin:0}::ng-deep .nx-exandable-table-cell [nxlist] li:last-child,::ng-deep .nx-header-cell [nxlist] li:last-child,::ng-deep .nx-table-cell [nxlist] li:last-child{margin-bottom:0}"]}]}],e.ctorParameters=function(){return[{type:c.ChangeDetectorRef}]},e.propDecorators={condensed:[{type:c.Input}],zebra:[{type:c.Input}]},e}(),h=function(){function e(){}return e.decorators=[{type:c.Component,args:[{selector:"tr[nxTableRow]",host:{"class":"nx-table-row"},template:"<ng-content></ng-content>",changeDetection:c.ChangeDetectionStrategy.OnPush}]}],e}(),x=function(){function e(e){this._changeDetectorRef=e,this.expanded=new s.BehaviorSubject(!1)}return e.prototype.toggle=function(){this.expanded.value?this.close():this.expand()},e.prototype.expand=function(){this.expanded.value||(this.expanded.next(!0),this._changeDetectorRef.markForCheck())},e.prototype.close=function(){this.expanded.value&&(this.expanded.next(!1),this._changeDetectorRef.markForCheck())},e.decorators=[{type:c.Component,args:[{selector:"tr[nxExpandableTableRow]",host:{"class":"nx-expandable-table-row"},template:"<ng-content></ng-content>",changeDetection:c.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:c.ChangeDetectorRef}]},e}(),g=function(){function e(e,t){var n=this;this._changeDetectorRef=t,this._destroyed=new s.Subject,this._open=!1,e.expanded.pipe(r.takeUntil(this._destroyed)).subscribe(function(e){n._open=e,n._changeDetectorRef.markForCheck()})}return e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},e.decorators=[{type:c.Component,args:[{selector:"td[nxExpandableTableCell]",template:'<div [@openClose]="_open ? \'open\' : \'closed\'" class="nx-expandable-table-cell__content">\n  <div class="nx-expandable-table-cell__wrapper">\n    <ng-content></ng-content>\n  </div>\n</div>\n',host:{"class":"nx-expandable-table-cell"},animations:[a.trigger("openClose",[a.state("open",a.style({height:"*"})),a.state("closed, void",a.style({height:"0"})),a.transition("closed <=> open, void => closed",[a.animate("225ms cubic-bezier(0.4,0.0,0.2,1)")])])],changeDetection:c.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:x},{type:c.ChangeDetectorRef}]},e}(),b=function(){function e(e){this._changeDetectorRef=e,this._expanded=!1,this._ariaLabel=""}return Object.defineProperty(e.prototype,"target",{set:function(e){var t=this;this._target=e,this._subscription&&this._subscription.unsubscribe(),this._target&&(this._subscription=this._target.expanded.subscribe(function(e){t._expanded=e,t._changeDetectorRef.markForCheck()}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaLabel",{set:function(e){this._ariaLabel=e,this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype._onClick=function(){this._target&&this._target.toggle()},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.decorators=[{type:c.Component,args:[{selector:"nx-toggle-button",template:'<button (click)="_onClick()"\n    class="nx-toggle-button"\n    [attr.aria-label]="_ariaLabel"\n    [attr.aria-expanded]="_expanded"\n    [class.is-expanded]="_expanded">\n  <nx-icon name="chevron-down"\n      aria-hidden="true"\n      size="s"\n      class="nx-toggle-button__icon"></nx-icon>\n</button>\n',changeDetection:c.ChangeDetectionStrategy.OnPush,styles:[":host{display:block}.nx-toggle-button{display:block;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;outline:0;background:0 0;padding:0;line-height:24px;height:24px}.nx-toggle-button .nx-toggle-button__icon{-webkit-transform:rotateZ(0);transform:rotateZ(0);transition:transform .2s;transition:transform .2s,-webkit-transform .2s}.nx-toggle-button.is-expanded .nx-toggle-button__icon{-webkit-transform:rotateZ(-180deg);transform:rotateZ(-180deg)}.nx-toggle-button::-moz-focus-inner{border:0}:host-context([data-whatinput=keyboard]) .nx-toggle-button:focus{border-radius:4px;box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6}"]}]}],e.ctorParameters=function(){return[{type:c.ChangeDetectorRef}]},e.propDecorators={target:[{type:c.Input}],ariaLabel:[{type:c.Input}]},e}(),u=function(){function e(){this.expanded=new s.BehaviorSubject(!1)}return e.prototype.ngAfterViewInit=function(){var t=this;this.rows.changes.pipe(r.startWith(this.rows),r.flatMap(function(e){return s.combineLatest(e.map(function(e){return e.expanded}))}),r.map(function(e){return e.reduce(function(e,t){return e&&t},!0)}),r.distinctUntilChanged()).subscribe(function(e){t.expanded.next(e)})},e.prototype.toggle=function(){this.expanded.value?this.close():this.expand()},e.prototype.expand=function(){this.rows.forEach(function(e){return e.expanded.next(!0)})},e.prototype.close=function(){this.rows.forEach(function(e){return e.expanded.next(!1)})},e.decorators=[{type:c.Directive,args:[{selector:"table[nxExpandableTable]",exportAs:"nxExpandableTable"}]}],e.propDecorators={rows:[{type:c.ContentChildren,args:[x]}]},e}(),f=function v(e,t){this.active=e,this.direction=t},_=function(){function e(){this._stateChanges=new s.Subject,this._direction="asc",this.activeChange=new c.EventEmitter,this.directionChange=new c.EventEmitter,this.sortChange=new c.EventEmitter}return Object.defineProperty(e.prototype,"active",{get:function(){return this._active},set:function(e){this._active!==e&&(this._active=e,this.sortChange.emit(new f(this.active,this.direction)),this._stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction!==e&&(this._direction=e,this.sortChange.emit(new f(this.active,this.direction)),this._stateChanges.next())},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._stateChanges.complete()},e.prototype.sort=function(e){this._active!==e?(this._active=e,this.activeChange.emit(this.active),this._direction="asc"):"asc"===this._direction?this._direction="desc":this._direction="asc",this.directionChange.emit(this.direction),this.sortChange.emit(new f(this.active,this.direction)),this._stateChanges.next()},e.decorators=[{type:c.Directive,args:[{selector:"table[nxSort]",exportAs:"NxSortDirective"}]}],e.propDecorators={active:[{type:c.Input}],direction:[{type:c.Input}],activeChange:[{type:c.Output}],directionChange:[{type:c.Output}],sortChange:[{type:c.Output}]},e}(),y=function(){function e(){this.changes=new s.Subject,this.sortAscendingAriaLabel="sort ascending",this.sortDescendingAriaLabel="sort descending"}return e.decorators=[{type:c.Injectable}],e}(),m=function(){function e(e,t,n){var o=this;this._sort=e,this._intl=t,this._changeDetectorRef=n,this._intlSubscription=this._intl.changes.subscribe(function(){return o._changeDetectorRef.markForCheck()})}return Object.defineProperty(e.prototype,"key",{get:function(){return this._key},set:function(e){this._key!==e&&(this._key=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._parentChangeSubscription=this._sort._stateChanges.subscribe(function(){e._changeDetectorRef.markForCheck()})},e.prototype.ngOnDestroy=function(){this._parentChangeSubscription&&this._parentChangeSubscription.unsubscribe(),this._intlSubscription.unsubscribe()},e.prototype._handleClick=function(){this._sort.sort(this._key)},e.prototype._onKeydown=function(e){!e||e.keyCode!==i.ENTER&&e.keyCode!==i.SPACE||(this._sort.sort(this._key),e.keyCode===i.SPACE&&e.preventDefault())},e.prototype._isSortedAscending=function(){return this._sort.active===this._key&&"asc"===this._sort.direction},e.prototype._isSortedDescending=function(){return this._sort.active===this._key&&"desc"===this._sort.direction},e.prototype._getAriaLabel=function(){return this._sort.active===this._key&&"asc"===this._sort.direction?this._key+" "+this._intl.sortDescendingAriaLabel:this._key+" "+this._intl.sortAscendingAriaLabel},e.decorators=[{type:c.Component,args:[{selector:"th[nxSortHeaderCell]",exportAs:"nxSortHeaderComponent",template:'<div class="nx-sort-header__focus-container">\n  <div class="nx-sort-header__icons-container">\n    <nx-icon name="chevron-up-small" class="nx-sort-header__icon-up"\n            [class.nx-sort-header__hidden-icon]="_isSortedDescending()">\n    </nx-icon>\n    <nx-icon name="chevron-down-small" class="nx-sort-header__icon-down"\n            [class.nx-sort-header__hidden-icon]="_isSortedAscending()">\n    </nx-icon>\n  </div>\n  <ng-content></ng-content>\n</div>\n',host:{"(click)":"_handleClick()","(keydown)":"_onKeydown($event)","[tabindex]":"0",role:"button","[attr.aria-label]":"_getAriaLabel()"},changeDetection:c.ChangeDetectionStrategy.OnPush,styles:[":host{cursor:pointer}.nx-sort-header__icons-container{display:inline-block;margin-right:8px;vertical-align:bottom;width:24px;position:relative;height:24px}.nx-sort-header__icons-container nx-icon{font-size:20px;position:absolute;font-weight:600;width:24px}.nx-sort-header__icons-container .nx-sort-header__icon-up{top:-3px}.nx-sort-header__icons-container .nx-sort-header__icon-down{top:5px}.nx-sort-header__icons-container .nx-sort-header__hidden-icon{visibility:hidden}:host-context([data-whatinput=keyboard]):focus .nx-sort-header__focus-container{box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6;border-radius:4px}:host:focus{outline:0}"]}]}],e.ctorParameters=function(){return[{type:_,decorators:[{type:c.Optional}]},{type:y},{type:c.ChangeDetectorRef}]},e.propDecorators={key:[{type:c.Input,args:["nxSortHeaderCell"]}]},e}(),C=[d,p,l,p,h,b,u,x,g,m,_],k=function(){function e(){}return e.decorators=[{type:c.NgModule,args:[{declarations:C,exports:C,imports:[t.CommonModule,n.NxIconModule],providers:[y]}]}],e}();e.NxTableModule=k,e.NxTableCellComponent=l,e.NxHeaderCellDirective=d,e.NxTableRowComponent=h,e.NxTableComponent=p,e.NxToggleButtonComponent=b,e.NxExpandableTableCellComponent=g,e.NxExpandableTableRowComponent=x,e.NxExpandableTableDirective=u,e.NxSortHeaderComponent=m,e.SortEvent=f,e.NxSortDirective=_,e.NxSortHeaderIntl=y,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=allianz-ngx-ndbx-table.umd.min.js.map