!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@allianz/ngx-ndbx/icon")):"function"==typeof define&&define.amd?define("@allianz/ngx-ndbx/pagination",["exports","@angular/common","@angular/core","@allianz/ngx-ndbx/icon"],t):t((n.allianz=n.allianz||{},n.allianz["ngx-ndbx"]=n.allianz["ngx-ndbx"]||{},n.allianz["ngx-ndbx"].pagination={}),n.ng.common,n.ng.core,n.allianz["ngx-ndbx"].icon)}(this,function(n,t,i,a){"use strict";var e={previous:"Previous",next:"Next",first:"First",last:"Last",ofLabel:"of",ariaLabel:"Please select your page"},o=new i.InjectionToken("nx-pagination-texts");function s(n,t){var a="function"==typeof Symbol&&n[Symbol.iterator];if(!a)return n;var i,e,o=a.call(n),s=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)s.push(i.value)}catch(r){e={error:r}}finally{try{i&&!i.done&&(a=o["return"])&&a.call(o)}finally{if(e)throw e.error}}return s}var r=function(){function n(){this._pagesToShow=3,this._elipsisText="...",this._classExpanded="expanded-view"}return n.prototype.getPages=function(n,t){return function a(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(s(arguments[t]));return n}(this.getStartArray(n,t),this.getMiddleArray(n,t),this.getEndArray(n,t))},n.prototype.getMiddleArray=function(n,t){for(var a=n<6?4:n-1,i=[];i.length<3&&2<=a&&a<=t-3&&a<=n+1&&n-1<=a;)i.push(this.createPaginationItem(a,a)),a++;return i},n.prototype.getEndArray=function(n,t){for(var a=[],i=t<=3?t+1:t<=6?t-(t-4):t-2,e=n<t-4;i<=t;){var o=0===a.length&&e?this.createPaginationItem(this._elipsisText,i,!0):this.createPaginationItem(i,i,!0);a.push(o),i++}return a},n.prototype.getStartArray=function(n,t){for(var a=0,i=[];a<3&&a<t;){var e=2===a&&5<n?this.createPaginationItem(this._elipsisText,a,!0):this.createPaginationItem(a+1,a+1,!0);i.push(e),a++}return i},n.prototype.createPaginationItem=function(n,t,a){return{label:n,value:t,"class":a?this._classExpanded:""}},n.decorators=[{type:i.Injectable}],n}(),p=function(){function n(n,t,a){this.paginationUtilsService=t,this._changeDetectorRef=a,this._type="simple",this.totalNumberPages=0,this.nxGoPrev=new i.EventEmitter,this.nxGoNext=new i.EventEmitter,this.nxGoPage=new i.EventEmitter,this.paginationTexts=n||e}return Object.defineProperty(n.prototype,"page",{get:function(){return this._page},set:function(n){this._page=n,this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return this._count},set:function(n){this._count=n,this.totalNumberPages=this.calculateTotalPages(),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"perPage",{get:function(){return this._perPage},set:function(n){this._perPage=n,this.totalNumberPages=this.calculateTotalPages(),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this._type},set:function(n){this._type=n,this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.totalNumberPages=this.calculateTotalPages()},n.prototype.ngAfterContentInit=function(){"advanced"!==this.type||this.paginationTexts.last&&this.paginationTexts.first||console.warn("Please define aria labels for the last and first arrows.")},n.prototype.getMin=function(){return this._perPage*this._page-this._perPage+1},n.prototype.getMax=function(){var n=this._perPage*this._page;return n>this._count&&(n=this._count),n},n.prototype.calculateTotalPages=function(){return Math.ceil(this._count/this._perPage)||0},n.prototype.onPage=function(n){this.nxGoPage.emit(n)},n.prototype.onPrev=function(){this._isPaginationPreviousDisabled()||this.nxGoPrev.emit()},n.prototype.onNext=function(){this._isPaginationNextDisabled()||this.nxGoNext.emit()},n.prototype.onFirst=function(){this._isPaginationPreviousDisabled()||this.onPage(1)},n.prototype.onLast=function(){this._isPaginationNextDisabled()||this.onPage(this.totalNumberPages)},n.prototype.lastPage=function(){return this._perPage*this._page>=this._count},n.prototype.getPages=function(){return this.paginationUtilsService.getPages(this._page,this.totalNumberPages)},n.prototype.getPaginationItemClasses=function(n){return{"is-ellipsis":"..."===n.label,"nx-pagination__item--expanded-view":"expanded-view"===n["class"]}},n.prototype.getPaginationNumberClasses=function(n){return{"is-active":n.value===this.page,"nx-pagination__ellipsis":"..."===n.label,"nx-pagination__link":"..."!==n.label}},n.prototype.isPaginationVisible=function(){return 0<this.count},n.prototype.isPaginationCompactVisible=function(){return this.type.includes("simple")&&0<this.count},n.prototype.isPaginationContainerVisible=function(){return this.type.includes("advanced")},n.prototype._isPaginationPreviousDisabled=function(){return this.page===this.getMin()},n.prototype._isPaginationNextDisabled=function(){return this.page===this.totalNumberPages},n.decorators=[{type:i.Component,args:[{selector:"nx-pagination",template:'<nav *ngIf="isPaginationVisible()"  aria-label="Page navigation" class="nx-pagination" >\n  <ul *ngIf="isPaginationContainerVisible()"  [attr.aria-label]="paginationTexts.ariaLabel" class="nx-pagination__container">\n    <li class="nx-pagination__item">\n      <button\n        [attr.aria-label]="paginationTexts.first"\n        [class.is-disabled]="_isPaginationPreviousDisabled()"\n        [tabindex]="_isPaginationPreviousDisabled() ? -1 : 0"\n        class="nx-pagination__link nx-pagination__link--first"\n        (click)="onFirst()">\n        <nx-icon class="nx-pagination__arrow" name="arrow-first"></nx-icon>\n      </button>\n    </li>\n    <li class="nx-pagination__item nx-pagination__item-previous">\n      <button\n        [attr.aria-label]="paginationTexts.previous"\n        [class.is-disabled]="_isPaginationPreviousDisabled()"\n        [tabindex]="_isPaginationPreviousDisabled() ? -1 : 0"\n        class="nx-pagination__link nx-pagination__link--previous"\n        (click)="onPrev()">\n        <nx-icon class="nx-pagination__arrow" name="arrow-left"></nx-icon>\n      </button>\n    </li>\n    <li *ngFor="let pageNum of getPages()" class="nx-pagination__item" [ngClass]="getPaginationItemClasses(pageNum)">\n      <button class="nx-pagination--number"\n        *ngIf="pageNum.label !== \'...\'"\n        (click)="onPage(pageNum.value)"\n        [attr.aria-curent]="pageNum.value === page"\n        [ngClass]="getPaginationNumberClasses(pageNum)">\n        {{ pageNum.label }}\n      </button>\n      <span *ngIf="pageNum.label === \'...\'">\n        {{ pageNum.label }}\n      </span>\n    </li>\n    <li class="nx-pagination__item nx-pagination__item-next">\n      <button\n        [attr.aria-label]="paginationTexts.next"\n        [class.is-disabled]="_isPaginationNextDisabled()"\n        [tabindex]="_isPaginationNextDisabled() ? -1 : 0"\n        class="nx-pagination__link nx-pagination__link--next"\n        (click)="onNext()">\n        <nx-icon class="nx-pagination__arrow" name="arrow-right"></nx-icon>\n      </button>\n    </li>\n    <li class="nx-pagination__item">\n      <button\n        [attr.aria-label]="paginationTexts.last"\n        [class.is-disabled]="_isPaginationNextDisabled()"\n        [tabindex]="_isPaginationNextDisabled() ? -1 : 0"\n        class="nx-pagination__link nx-pagination__link--last"\n        (click)="onLast()">\n        <nx-icon class="nx-pagination__arrow" name="arrow-last"></nx-icon>\n      </button>\n    </li>\n  </ul>\n</nav>\n<nav *ngIf="isPaginationCompactVisible()" [attr.aria-label]="paginationTexts.ariaLabel" class="nx-pagination-compact" >\n  <button [attr.aria-label]="paginationTexts.previous"\n    class="nx-pagination-compact__previous"\n    [class.is-disabled]="_isPaginationPreviousDisabled()"\n    [tabindex]="_isPaginationPreviousDisabled() ? -1 : 0"\n\n    (click)="onPrev()">\n    <nx-icon class="nx-pagination__arrow" name="arrow-left"></nx-icon>\n    <span class="nx-pagination-compact__direction-label">\n      {{ paginationTexts.previous }}\n    </span>\n  </button>\n  <div class="nx-pagination-compact__display">\n      <span class="nx-pagination-compact__current-page">{{ page }}</span>\n      <span class="nx-pagination-compact__page-separator"> {{ paginationTexts.ofLabel }} </span>\n      <span class="nx-pagination-compact__total-pages">{{ totalNumberPages }}</span>\n  </div>\n  <button\n    class="nx-pagination-compact__next"\n    [class.is-disabled]="_isPaginationNextDisabled()"\n    [tabindex]="_isPaginationNextDisabled() ? -1 : 0"\n    [attr.aria-label]="paginationTexts.next"\n    (click)="onNext()">\n    <span class="nx-pagination-compact__direction-label"> {{ paginationTexts.next }} </span>\n    <nx-icon class="nx-pagination__arrow" name="arrow-right"></nx-icon>\n  </button>\n</nav>\n',changeDetection:i.ChangeDetectionStrategy.OnPush,styles:[":host button:focus{outline:0}:host button::-moz-focus-inner{border:0}.nx-pagination__container{display:flex;font-size:16px;margin:8px 0;padding:0}@media (min-width:704px){.nx-pagination__container{margin:8px 0 40px}}.nx-pagination__item{margin:0 16px;list-style:none}.nx-pagination__item:first-child,.nx-pagination__item:last-child{margin:0}.nx-pagination__item.is-ellipsis{font-weight:700}.nx-pagination__item--expanded-view{display:block}.nx-pagination__link{color:#006192;font-weight:600;padding:0;text-decoration:none;background-color:#fff;border:0;cursor:pointer}.nx-pagination__link.is-active{color:#414141;font-weight:700;cursor:default}nx-icon.nx-pagination__arrow{font-size:24px}.nx-pagination-compact{display:flex;font-size:16px;margin:16px 0;padding:0}@media (min-width:704px){.nx-pagination-compact{margin:40px 0}}.nx-pagination-compact__display{color:#414141;display:flex;line-height:24px}.nx-pagination-compact__current-page{font-weight:700;margin-right:8px}.nx-pagination-compact__total-pages{margin-left:8px}.nx-pagination-compact__next,.nx-pagination-compact__previous,.nx-pagination__arrow-first,.nx-pagination__arrow-last{color:#006192;font-weight:600;text-decoration:none;text-transform:uppercase;display:flex;align-items:center;padding:0;background-color:#fff;cursor:pointer;border:0}.nx-pagination-compact__previous{margin-right:32px}.nx-pagination-compact__next{margin-left:32px}.nx-pagination-compact__direction-label{display:block;letter-spacing:1px}.nx-pagination-compact__direction-label:first-child{margin-right:8px}.nx-pagination-compact__direction-label:last-child{margin-left:8px}.nx-pagination-compact__next.is-disabled,.nx-pagination-compact__previous.is-disabled,.nx-pagination__link.is-disabled{color:rgba(0,97,146,.4);cursor:not-allowed}:host-context([data-whatinput=keyboard]) .nx-pagination--number:focus,:host-context([data-whatinput=keyboard]) .nx-pagination-compact__next:focus,:host-context([data-whatinput=keyboard]) .nx-pagination-compact__previous:focus,:host-context([data-whatinput=keyboard]) .nx-pagination__link:focus{box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6;border-radius:4px}.nx-pagination__link--first,.nx-pagination__link--last,.nx-pagination__link--next,.nx-pagination__link--previous{display:flex;align-items:center}.nx-pagination__item-next{margin-right:8px}.nx-pagination__item-previous{margin-left:8px}"]}]}],n.ctorParameters=function(){return[{type:undefined,decorators:[{type:i.Optional},{type:i.Inject,args:[o]}]},{type:r},{type:i.ChangeDetectorRef}]},n.propDecorators={page:[{type:i.Input,args:["nxPage"]}],count:[{type:i.Input,args:["nxCount"]}],perPage:[{type:i.Input,args:["nxPerPage"]}],type:[{type:i.Input,args:["nxType"]}],nxGoPrev:[{type:i.Output}],nxGoNext:[{type:i.Output}],nxGoPage:[{type:i.Output}]},n}(),l=function(){function n(){}return n.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule,a.NxIconModule],declarations:[p],exports:[p],providers:[r]}]}],n}();n.NxPaginationModule=l,n.NxPaginationComponent=p,n.DefaultPaginationTexts=e,n.NX_PAGINATION_TEXTS=o,n.NxPaginationUtils=r,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=allianz-ngx-ndbx-pagination.umd.min.js.map