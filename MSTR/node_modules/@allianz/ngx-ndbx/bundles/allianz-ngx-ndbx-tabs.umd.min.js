!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/cdk/portal"),require("rxjs"),require("@allianz/ngx-ndbx/accordion"),require("@angular/cdk/a11y"),require("@angular/cdk/keycodes"),require("@angular/core"),require("@angular/cdk/coercion")):"function"==typeof define&&define.amd?define("@allianz/ngx-ndbx/tabs",["exports","@angular/common","@angular/cdk/portal","rxjs","@allianz/ngx-ndbx/accordion","@angular/cdk/a11y","@angular/cdk/keycodes","@angular/core","@angular/cdk/coercion"],t):t((e.allianz=e.allianz||{},e.allianz["ngx-ndbx"]=e.allianz["ngx-ndbx"]||{},e.allianz["ngx-ndbx"].tabs={}),e.ng.common,e.ng.cdk.portal,e.rxjs,e.allianz["ngx-ndbx"].accordion,e.ng.cdk.a11y,e.ng.cdk.keycodes,e.ng.core,e.ng.cdk.coercion)}(this,function(e,t,n,o,a,i,r,c,s){"use strict";var l=function v(){},d=function(){function e(e,t){if(this._viewContainerRef=e,this._tabGroup=t,this._contentPortal=null,this._stateChanges=new o.Subject,this.isActive=!1,!this._tabGroup)throw Error("The nx-tab element has to be wrapped in a nx-tab-group to work.\n      Please provide a nx-tab-group element and place your tabs inside it.")}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label!==e&&(this._label=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._contentPortal},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){e.hasOwnProperty("label")&&this._stateChanges.next()},e.prototype.ngOnInit=function(){this._contentPortal=new n.TemplatePortal(this._implicitContent,this._viewContainerRef)},e.prototype.ngOnDestroy=function(){this._stateChanges.complete()},e.decorators=[{type:c.Component,args:[{selector:"nx-tab",exportAs:"nxTab",template:"<ng-template><ng-content></ng-content></ng-template>",changeDetection:c.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:c.ViewContainerRef},{type:l,decorators:[{type:c.Inject,args:[l]},{type:c.Optional},{type:c.Host}]}]},e.propDecorators={label:[{type:c.Input}],_implicitContent:[{type:c.ViewChild,args:[c.TemplateRef]}]},e}(),p=function(){function e(){this._active=!1}return Object.defineProperty(e.prototype,"active",{get:function(){return this._active},set:function(e){this._active=s.coerceBooleanProperty(e),this._active?this.attach():this.detach()},enumerable:!0,configurable:!0}),e.prototype.attach=function(){this.portalOutlet.hasAttached()||this.portalOutlet.attach(this.content)},e.prototype.detach=function(){this.portalOutlet.hasAttached()&&this.portalOutlet.detach()},e.decorators=[{type:c.Component,args:[{selector:"nx-tab-body",template:"<ng-template cdkPortalOutlet></ng-template>\n",changeDetection:c.ChangeDetectionStrategy.OnPush,styles:[":host{display:block}"]}]}],e.propDecorators={content:[{type:c.Input}],active:[{type:c.Input}],portalOutlet:[{type:c.ViewChild,args:[n.CdkPortalOutlet]}]},e}();function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,a,i=n.call(e),r=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)r.push(o.value)}catch(c){a={error:c}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(a)throw a.error}}return r}var h=function I(){},b=0,g=function(){function e(e){this._changeDetectorRef=e,this._selectedIndex=null,this._negative=!1,this._indexToSelect=0,this._autoselect=!0,this._mobileAccordion=!0,this._showAccordion=!1,this.selectedIndexChange=new c.EventEmitter,this.selectedTabChange=new c.EventEmitter,this.focusChange=new c.EventEmitter,this._tabsSubscription=o.Subscription.EMPTY,this._tabLabelSubscription=o.Subscription.EMPTY,this._groupId=b++}return Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){this._indexToSelect=s.coerceNumberProperty(e,null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"negative",{get:function(){return this._negative},set:function(e){e!==this._negative&&(this._negative=s.coerceBooleanProperty(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoselect",{get:function(){return this._autoselect},set:function(e){this._autoselect=s.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mobileAccordion",{get:function(){return this._mobileAccordion},set:function(e){this._mobileAccordion=s.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._switchAppearance(window.innerWidth)},e.prototype.ngAfterContentInit=function(){var n=this;this._subscribeToTabLabels(),this._tabsSubscription=this.tabs.changes.subscribe(function(){if(n._clampTabIndex(n._indexToSelect)===n._selectedIndex)for(var e=n.tabs.toArray(),t=0;t<e.length;t++)if(e[t].isActive){n._indexToSelect=n._selectedIndex=t;break}n._changeDetectorRef.markForCheck()})},e.prototype.ngAfterContentChecked=function(){var e=this,n=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!==n){var t=null==this._selectedIndex;t||this.selectedTabChange.emit(this._createChangeEvent(n)),Promise.resolve().then(function(){e.tabs.forEach(function(e,t){return e.isActive=t===n}),t||e.selectedIndexChange.emit(n)})}this._selectedIndex!==n&&(this._selectedIndex=n,this._changeDetectorRef.markForCheck())},e.prototype.ngOnDestroy=function(){this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()},e.prototype._subscribeToTabLabels=function(){var e=this;this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=o.merge.apply(void 0,function n(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}(this.tabs.map(function(e){return e._stateChanges}))).subscribe(function(){return e._changeDetectorRef.markForCheck()})},e.prototype._clampTabIndex=function(e){return Math.min(this.tabs.length-1,Math.max(e||0,0))},e.prototype.focusChanged=function(e){this.focusChange.emit(this._createChangeEvent(e))},e.prototype._createChangeEvent=function(e){var t=new h;return t.index=e,this.tabs&&this.tabs.length&&(t.tab=this.tabs.toArray()[e]),t},e.prototype.handleClick=function(e){this.selectedIndex=this.tabHeader.focusIndex=e},e.prototype.getTabIndex=function(e,t){return this.selectedIndex===t?0:-1},e.prototype._getTabLabelId=function(e){return"nx-tab-label-"+this._groupId+"-"+e},e.prototype._getTabContentId=function(e){return"nx-tab-content-"+this._groupId+"-"+e},e.prototype.onResize=function(e){this._switchAppearance(e.target.innerWidth)},e.prototype._switchAppearance=function(e){this._mobileAccordion&&(e<=480&&!this._showAccordion?this._showMobileVersion():480<e&&this._showAccordion&&this._showDesktopVersion())},e.prototype._showMobileVersion=function(){this._showAccordion=!0,this._changeDetectorRef.markForCheck()},e.prototype._showDesktopVersion=function(){this._showAccordion=!1,this._changeDetectorRef.markForCheck()},e.prototype._panelOpened=function(e){this.selectedIndex=e},e.decorators=[{type:c.Component,args:[{selector:"nx-tab-group",template:'\n  <nx-tab-header *ngIf="!_showAccordion"\n      #tabHeader\n      [selectedIndex]="selectedIndex"\n      (selectFocusedIndex)="selectedIndex = $event"\n      (indexFocused)="focusChanged($event)"\n      [autoselect]="autoselect">\n    <button\n      type="button"\n      nxTabLabel\n      *ngFor="let tab of tabs; let i = index"\n      role="tab"\n      (click)="handleClick(i)"\n      class="nx-tab-header__item"\n      [id]="_getTabLabelId(i)"\n      [attr.aria-controls]="_getTabContentId(i)"\n      [attr.aria-selected]="selectedIndex == i"\n      [attr.tabindex]="getTabIndex(tab, i)"\n      [class.nx-tab-header__item--active]="selectedIndex == i">\n      {{tab.label}}\n    </button>\n  </nx-tab-header>\n\n  <div class="nx-tab-body__container">\n    <nx-tab-body\n      *ngFor="let tab of tabs; let i = index"\n      [id]="_getTabContentId(i)"\n      role="tabpanel"\n      [attr.tabindex]="(!_showAccordion && selectedIndex == i) ? 0 : -1"\n      class="nx-tab__body"\n      [attr.aria-labelledby]="_getTabContentId(i)"\n      [class.nx-tab__body--active]="selectedIndex == i"\n      [content]="tab.content"\n      [active]="!_showAccordion && selectedIndex == i"\n    ></nx-tab-body>\n  </div>\n\n  <nx-accordion *ngIf="_showAccordion" [negative]="negative">\n    <nx-expansion-panel *ngFor="let tab of tabs; let i = index" [expanded]="selectedIndex === i" (opened)="_panelOpened(i)">\n      <nx-expansion-panel-header>\n        <nx-expansion-panel-title>{{tab.label}}</nx-expansion-panel-title>\n      </nx-expansion-panel-header>\n      <ng-template [cdkPortalOutlet]="tab.content"></ng-template>\n    </nx-expansion-panel>\n  </nx-accordion>\n',changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"[class.is-negative]":"negative"},providers:[{provide:l,useExisting:e}],styles:[":host{display:block}.nx-tab-header__item{text-decoration:none;border:none;background:0 0;color:#006192;border-bottom:2px solid #007ab3;padding:0 16px 6px;font-weight:400;font-size:18px;line-height:24px;outline:0}.nx-tab-header__item::-moz-focus-inner{border:0}:host-context([data-whatinput=keyboard]) .nx-tab-header__item:focus{box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6;border-radius:4px}.nx-tab-header__item--active{border-width:4px;font-weight:700;transition:font-weight .3s;padding-bottom:4px}:host(.is-negative){color:#fff}:host(.is-negative) .nx-tab-header__item{color:#fff;border-bottom-color:#fff}"]}]}],e.ctorParameters=function(){return[{type:c.ChangeDetectorRef}]},e.propDecorators={tabs:[{type:c.ContentChildren,args:[d]}],tabBodyChildren:[{type:c.ViewChildren,args:[p]}],tabHeader:[{type:c.ViewChild,args:["tabHeader"]}],panels:[{type:c.ViewChildren,args:[a.NxExpansionPanelComponent]}],accordion:[{type:c.ViewChild,args:[a.NxAccordionDirective]}],selectedIndex:[{type:c.Input}],negative:[{type:c.Input}],autoselect:[{type:c.Input}],mobileAccordion:[{type:c.Input}],selectedIndexChange:[{type:c.Output}],selectedTabChange:[{type:c.Output}],focusChange:[{type:c.Output}],onResize:[{type:c.HostListener,args:["window:resize",["$event"]]}]},e}(),f=function(){function e(e){this.elementRef=e}return e.prototype.focus=function(){this.elementRef.nativeElement.focus()},e.decorators=[{type:c.Directive,args:[{selector:"[nxTabLabel]"}]}],e.ctorParameters=function(){return[{type:c.ElementRef}]},e}(),x=function(){function e(e){this._changeDetectorRef=e,this._selectedIndex=0,this._autoselect=!0,this.selectFocusedIndex=new c.EventEmitter,this.indexFocused=new c.EventEmitter}return Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItemIndex(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusIndex",{get:function(){return this._keyManager?this._keyManager.activeItemIndex:0},set:function(e){this._isValidIndex(e)&&this.focusIndex!==e&&this._keyManager&&this._keyManager.setActiveItem(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoselect",{get:function(){return this._autoselect},set:function(e){this._autoselect=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){this._keyManager=new i.FocusKeyManager(this.labels).withHorizontalOrientation("ltr").withWrap(),this._keyManager.updateActiveItemIndex(0),this._changeDetectorRef.markForCheck()},e.prototype._isValidIndex=function(e){return!this.labels||!!this.labels.toArray()[e]},e.prototype.handleKeydown=function(e){switch(e.keyCode){case r.HOME:this._keyManager.setFirstItemActive(),e.preventDefault();break;case r.END:this._keyManager.setLastItemActive(),e.preventDefault();break;case r.ENTER:case r.SPACE:this.selectFocusedIndex.emit(this._keyManager.activeItemIndex),e.preventDefault();break;default:this._keyManager.onKeydown(e)}this.autoselect?this.selectFocusedIndex.emit(this._keyManager.activeItemIndex):e.keyCode!==r.ENTER&&e.keyCode!==r.SPACE&&this.indexFocused.emit(this._keyManager.activeItemIndex)},e.decorators=[{type:c.Component,args:[{selector:"nx-tab-header",template:'<div class="nx-tab-header" (keydown)="handleKeydown($event)" role="tablist">\n  <ng-content></ng-content>\n</div>',changeDetection:c.ChangeDetectionStrategy.OnPush,styles:[":host{display:block}.nx-tab-header{display:flex;align-items:flex-end;justify-content:center;padding:60px 0}"]}]}],e.ctorParameters=function(){return[{type:c.ChangeDetectorRef}]},e.propDecorators={selectedIndex:[{type:c.Input}],autoselect:[{type:c.Input}],selectFocusedIndex:[{type:c.Output}],indexFocused:[{type:c.Output}],labels:[{type:c.ContentChildren,args:[f]}]},e}(),y=function(){function e(e){this._changeDetectorRef=e,this._negative=!1}return Object.defineProperty(e.prototype,"negative",{get:function(){return this._negative},set:function(e){var t=s.coerceBooleanProperty(e);t!==this.negative&&(this._negative=t,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),e.decorators=[{type:c.Component,args:[{selector:"nx-tab-nav-bar",template:"<ng-content></ng-content>",changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"[class.is-negative]":"negative",role:"navigation"},styles:[":host{display:flex;align-items:flex-end;justify-content:center}:host ::ng-deep a.nx-tab-link{text-decoration:none;border:none;background:0 0;color:#006192;border-bottom:2px solid #007ab3;padding:0 16px 6px;font-weight:400;font-size:18px;line-height:24px}:host ::ng-deep a.nx-tab-link.is-active{border-width:4px;font-weight:700;transition:font-weight .3s;padding-bottom:4px}:host(.is-negative){color:#fff}:host(.is-negative) ::ng-deep a.nx-tab-link{color:#fff;border-bottom-color:#fff}:host-context([data-whatinput=keyboard]) nx-tab-link:focus{box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6;border-radius:4px}"]}]}],e.ctorParameters=function(){return[{type:c.ChangeDetectorRef}]},e.propDecorators={negative:[{type:c.Input}]},e}(),_=function(){function e(e){if(this._tabNavBar=e,this._active=!1,!this._tabNavBar)throw Error("The nx-tab-link element has to be wrapped in a nx-tab-nav-bar to work.")}return Object.defineProperty(e.prototype,"active",{get:function(){return this._active},set:function(e){s.coerceBooleanProperty(e)!==this._active&&(this._active=e)},enumerable:!0,configurable:!0}),e.decorators=[{type:c.Directive,args:[{selector:"[nxTabLink]",host:{"[class.nx-tab-link]":"true","[class.is-active]":"active","[attr.aria-current]":"active"}}]}],e.ctorParameters=function(){return[{type:y,decorators:[{type:c.Optional},{type:c.SkipSelf}]}]},e.propDecorators={active:[{type:c.Input}]},e}(),m=function(){function e(){}return e.decorators=[{type:c.NgModule,args:[{imports:[t.CommonModule,n.PortalModule,a.NxAccordionModule],exports:[d,g,f,x,p,y,_],declarations:[d,g,f,x,p,y,_],providers:[]}]}],e}();e.NxTabsModule=m,e.NxTabComponent=d,e.NxTabChangeEvent=h,e.NxTabGroupComponent=g,e.NxTabHeaderComponent=x,e.NxTabBodyComponent=p,e.NxTabLabelDirective=f,e.NxTabNavBarComponent=y,e.NxTabLinkDirective=_,e.ɵa=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=allianz-ngx-ndbx-tabs.umd.min.js.map