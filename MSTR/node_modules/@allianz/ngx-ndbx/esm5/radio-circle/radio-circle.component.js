/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ContentChildren, EventEmitter, forwardRef, Input, Output, QueryList, Renderer2 } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { NxRadioCircleButton } from './radio-circle-button';
import { coerceBooleanProperty } from '@angular/cdk/coercion';
/** @type {?} */
var nextId = 0;
/**
 * @deprecated Use `nx-circle-toggle-group` instead
 * \@deletion-target 8.0.0
 */
var NxRadioCircleComponent = /** @class */ (function () {
    function NxRadioCircleComponent(renderer) {
        this.renderer = renderer;
        this._id = nextId++;
        this._responsive = true;
        /**
         * An event emitted when the selection changes.
         */
        this.valueChange = new EventEmitter();
        /**
         * Whether the radio circle is disabled.
         */
        this.disabled = false;
        this.onTouchedCallback = (/**
         * @param {?} option
         * @return {?}
         */
        function (option) {
        });
        this.onChangeCallback = (/**
         * @param {?} option
         * @return {?}
         */
        function (option) {
        });
        console.warn('`nx-radio-circle` is deprecated. Use `nx-circle-toggle-group` instead.');
    }
    Object.defineProperty(NxRadioCircleComponent.prototype, "responsiveToggle", {
        /**
         * Whether the toggle behavior is disabled.
         *
         * @deprecated Use `nxResponsive` instead
         * @deletion-target 7.0.0
         */
        set: /**
         * Whether the toggle behavior is disabled.
         *
         * @deprecated Use `nxResponsive` instead
         * \@deletion-target 7.0.0
         * @param {?} value
         * @return {?}
         */
        function (value) {
            console.warn('`nxResponsiveToggle` is deprecated. Use `nxResponsive` instead.');
            this.responsive = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxRadioCircleComponent.prototype, "responsive", {
        get: /**
         * @return {?}
         */
        function () {
            return this._responsive;
        },
        /**
         * Whether the radio circle should have a responsive behavior.
         *
         * On false the circles will stay even on mobile viewports.
         * Default: true.
         */
        set: /**
         * Whether the radio circle should have a responsive behavior.
         *
         * On false the circles will stay even on mobile viewports.
         * Default: true.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            /** @type {?} */
            var newValue = coerceBooleanProperty(value);
            if (newValue !== this.responsive) {
                this._responsive = newValue;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxRadioCircleComponent.prototype, "value", {
        get: /**
         * @return {?}
         */
        function () {
            return this._selectedButton ? this._selectedButton.value : null;
        },
        /** Sets the value of the radio circle. */
        set: /**
         * Sets the value of the radio circle.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.writeValue(value);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @docs-private
     * @deprecated Use `responsive` getter
     * @deletion-target 7.0.0
     */
    /**
     * \@docs-private
     * @deprecated Use `responsive` getter
     * \@deletion-target 7.0.0
     * @return {?}
     */
    NxRadioCircleComponent.prototype.getResposiveToggle = /**
     * \@docs-private
     * @deprecated Use `responsive` getter
     * \@deletion-target 7.0.0
     * @return {?}
     */
    function () {
        console.warn('The method `getResponsiveToggle is deprecated. Use the `responsive` getter instead');
        return this._responsive;
    };
    Object.defineProperty(NxRadioCircleComponent.prototype, "radioCircleId", {
        /** The id of the radio circle. */
        get: /**
         * The id of the radio circle.
         * @return {?}
         */
        function () {
            return "radio-circle-" + this._id;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    NxRadioCircleComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        this.renderer.addClass(this._buttons.first.labelElement.nativeElement, "nx-radio-circle__label--first");
        this.renderer.addClass(this._buttons.last.labelElement.nativeElement, "nx-radio-circle__label--last");
    };
    /**
     * @param {?} value
     * @return {?}
     */
    NxRadioCircleComponent.prototype.writeValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (this._buttons) {
            this._selectedButton = this._buttons.find((/**
             * @param {?} button
             * @return {?}
             */
            function (button) { return button.value === value; }));
        }
    };
    /**
     * @param {?} callback
     * @return {?}
     */
    NxRadioCircleComponent.prototype.registerOnChange = /**
     * @param {?} callback
     * @return {?}
     */
    function (callback) {
        this.onChangeCallback = callback;
    };
    /**
     * @param {?} callback
     * @return {?}
     */
    NxRadioCircleComponent.prototype.registerOnTouched = /**
     * @param {?} callback
     * @return {?}
     */
    function (callback) {
        this.onTouchedCallback = callback;
    };
    /**
     * @param {?} isDisabled
     * @return {?}
     */
    NxRadioCircleComponent.prototype.setDisabledState = /**
     * @param {?} isDisabled
     * @return {?}
     */
    function (isDisabled) {
        this.disabled = isDisabled;
    };
    Object.defineProperty(NxRadioCircleComponent.prototype, "selectedButton", {
        /** @docs-private */
        get: /**
         * \@docs-private
         * @return {?}
         */
        function () {
            return this._selectedButton;
        },
        set: /**
         * @param {?} button
         * @return {?}
         */
        function (button) {
            if (this.disabled) {
                return;
            }
            this._selectedButton = button;
            this.onChangeCallback(this.value);
            this.valueChange.emit(this.value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxRadioCircleComponent.prototype, "buttons", {
        /** @docs-private */
        get: /**
         * \@docs-private
         * @return {?}
         */
        function () {
            return this._buttons;
        },
        enumerable: true,
        configurable: true
    });
    NxRadioCircleComponent.decorators = [
        { type: Component, args: [{
                    selector: 'nx-radio-circle',
                    template: "<div [id]=\"radioCircleId\" class=\"nx-radio-circle\" role=\"radiogroup\" [attr.aria-label]=\"name\">\n  <ng-content></ng-content>\n</div>\n",
                    providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef((/**
                             * @return {?}
                             */
                            function () { return NxRadioCircleComponent; })),
                            multi: true
                        }
                    ],
                    host: {
                        '[class.is-responsive]': 'responsive',
                        '[class.is-disabled]': 'disabled',
                        '[attr.aria-disabled]': 'disabled',
                    },
                    styles: [":host{display:block;position:relative}@media (max-width:703px){:host-context(.is-responsive) .nx-radio-circle{flex-direction:column}:host-context(.is-responsive) .nx-radio-circle__label{flex-direction:row;border:2px solid #007ab3;border-top-width:0;font-size:16px;padding:8px 40px 8px 15px}:host-context(.is-responsive) .nx-radio-circle__label--first{border-top-width:2px;border-radius:5px 5px 0 0}:host-context(.is-responsive) .nx-radio-circle__label--last{border-radius:0 0 5px 5px}:host-context(.is-responsive) .nx-radio-circle__circle{display:none}:host-context(.is-responsive) .nx-radio-circle__label-info{color:#007ab3;margin-left:10px;margin-top:0;line-height:16px;font-size:14px}:host-context(.is-responsive) .nx-radio-circle__mobile-check{display:inline-block;opacity:0;line-height:1;margin-right:10px}:host-context(.is-responsive) .nx-radio-circle--checked .nx-radio-circle__mobile-check{opacity:1}:host-context(.is-responsive) .nx-radio-circle--checked{background-color:#007ab3;color:#fff}:host-context(.is-responsive) .nx-radio-circle--checked .nx-radio-circle__label-info,:host-context(.is-responsive) .nx-radio-circle--checked .nx-radio-circle__label-text{color:#fff}:host(:not(.is-responsive)) ::ng-deep nx-radio-circle-icon-button,:host(:not(.is-responsive)) ::ng-deep nx-radio-circle-svg-button{flex:1 0 auto;min-width:33.3%}}.nx-radio-circle{display:flex;flex-direction:row;justify-content:space-around;flex-wrap:wrap}.nx-radio-circle__input{opacity:0;position:absolute}.nx-radio-circle__label{cursor:pointer;display:flex;flex-direction:column;justify-content:center;text-align:center;align-items:center;font-size:16px;font-weight:600;padding:0;position:relative;transition:background-color .2s,border-color .2s,color .2s;vertical-align:middle}@media (min-width:704px){:host:hover .nx-radio-circle__circle{background-color:#006192;border-color:transparent;box-shadow:none;color:#fff}.nx-radio-circle__label{line-height:8rem;min-height:8rem;min-width:8rem;max-width:8rem;padding:0}}.nx-radio-circle__label-text{line-height:20px;z-index:1;color:#414141}@media (max-width:703px){.nx-radio-circle__label-text{color:#007ab3}}.nx-radio-circle__input:focus+.nx-radio-circle__label{color:#fff}.nx-radio-circle__input:focus+.nx-radio-circle__label:after{background-color:#006192;border-color:transparent}.nx-radio-circle__mobile-check{font-size:24px;display:none;z-index:1}.nx-radio-circle--checked .nx-radio-circle__circle{color:#fff;background-color:#007ab3}.nx-radio-circle--checked{color:#fff}.nx-radio-circle--checked:hover{cursor:default}@media screen and (-ms-high-contrast:active){.nx-radio-circle__label-text{color:#fff}.nx-radio-circle--checked .nx-radio-circle__circle{background-color:#ff0;border-color:#ff0}.nx-radio-circle--checked,.nx-radio-circle--checked .nx-radio-circle__label-text{color:#000}.nx-radio-circle--checked .nx-radio-circle__label-text{color:#fff}}.nx-radio-circle__circle{display:flex;justify-content:center;align-items:center;border-radius:50%;min-width:8rem;min-height:8rem;max-width:8rem;max-height:8rem;width:8rem;height:8rem;border:2px solid #007ab3;margin-bottom:1.5rem;color:#007ab3}:host.is-disabled *{color:#c2c2c2}:host.is-disabled .nx-radio-circle__circle{border:2px solid #c2c2c2}:host.is-disabled .nx-radio-circle--checked .nx-radio-circle__circle{background-color:#c2c2c2;border:2px solid #c2c2c2}:host.is-disabled .nx-radio-circle--checked .nx-radio-circle__label--icon{color:#fff!important}@media (max-width:703px){:host.is-disabled .nx-radio-circle__label{border:2px solid #c2c2c2}:host.is-disabled .nx-radio-circle__label-info{color:#c2c2c2}:host.is-disabled .nx-icon--check:before{color:#fff}:host.is-disabled .nx-radio-circle--checked{background-color:#c2c2c2}:host.is-disabled .nx-radio-circle--checked .nx-radio-circle__label-info{color:#fff}}:host.is-disabled:hover{cursor:not-allowed}:host.is-disabled:hover .nx-radio-circle__circle{background-color:transparent;cursor:not-allowed}.nx-radio-circle__label--icon{pointer-events:none;z-index:1;display:flex;text-align:center;align-items:center;justify-content:center;font-size:4rem;font-weight:400;position:relative}.nx-radio-circle__label--icon.nx-icon--auto{font-size:4rem}.nx-radio-circle__label-info{color:#fff;display:inline-block;font-weight:300;line-height:22px;font-size:18px;margin-top:4px;transition:color .2s;z-index:1}@media screen and (-ms-high-contrast:active){.nx-radio-circle__label-info{color:#fff}}.nx-radio-circle__label-info:before{content:'(';display:inline-block}@media (min-width:704px){.nx-radio-circle__label-info{color:#767676;display:block;width:16rem}.nx-radio-circle__label-info:before{content:''}}.nx-radio-circle__label-info:after{content:')';display:inline-block}@media (min-width:704px){.nx-radio-circle__label-info:after{content:''}}:host-context([data-whatinput=keyboard]) .nx-radio-circle__input:focus+.nx-radio-circle__label .nx-radio-circle__circle{box-shadow:0 0 0 2px #fff,0 0 0 6px #009de6}"]
                }] }
    ];
    /** @nocollapse */
    NxRadioCircleComponent.ctorParameters = function () { return [
        { type: Renderer2 }
    ]; };
    NxRadioCircleComponent.propDecorators = {
        _buttons: [{ type: ContentChildren, args: [NxRadioCircleButton,] }],
        valueChange: [{ type: Output, args: ['nxValueChange',] }],
        name: [{ type: Input, args: ['nxName',] }],
        disabled: [{ type: Input, args: ['disabled',] }],
        responsiveToggle: [{ type: Input, args: ['nxResponsiveToggle',] }],
        responsive: [{ type: Input, args: ['nxResponsive',] }],
        value: [{ type: Input, args: ['nxValue',] }]
    };
    return NxRadioCircleComponent;
}());
export { NxRadioCircleComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    NxRadioCircleComponent.prototype._id;
    /**
     * @type {?}
     * @private
     */
    NxRadioCircleComponent.prototype._buttons;
    /**
     * @type {?}
     * @private
     */
    NxRadioCircleComponent.prototype._selectedButton;
    /**
     * @type {?}
     * @private
     */
    NxRadioCircleComponent.prototype._responsive;
    /**
     * An event emitted when the selection changes.
     * @type {?}
     */
    NxRadioCircleComponent.prototype.valueChange;
    /**
     * Sets the name of the radio circle, which is used for accessibility.
     * @type {?}
     */
    NxRadioCircleComponent.prototype.name;
    /**
     * Whether the radio circle is disabled.
     * @type {?}
     */
    NxRadioCircleComponent.prototype.disabled;
    /**
     * @type {?}
     * @private
     */
    NxRadioCircleComponent.prototype.onTouchedCallback;
    /**
     * @type {?}
     * @private
     */
    NxRadioCircleComponent.prototype.onChangeCallback;
    /**
     * @type {?}
     * @private
     */
    NxRadioCircleComponent.prototype.renderer;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFkaW8tY2lyY2xlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BhbGxpYW56L25neC1uZGJ4LyIsInNvdXJjZXMiOlsicmFkaW8tY2lyY2xlL3JhZGlvLWNpcmNsZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFFTCxTQUFTLEVBQ1QsZUFBZSxFQUNmLFlBQVksRUFDWixVQUFVLEVBQ1YsS0FBSyxFQUNMLE1BQU0sRUFDTixTQUFTLEVBQ1QsU0FBUyxFQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBdUIsaUJBQWlCLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQUN2RSxPQUFPLEVBQUMsbUJBQW1CLEVBQUMsTUFBTSx1QkFBdUIsQ0FBQztBQUMxRCxPQUFPLEVBQUMscUJBQXFCLEVBQUMsTUFBTSx1QkFBdUIsQ0FBQzs7SUFFeEQsTUFBTSxHQUFHLENBQUM7Ozs7O0FBTWQ7SUFzRUUsZ0NBQW9CLFFBQW1CO1FBQW5CLGFBQVEsR0FBUixRQUFRLENBQVc7UUFuRC9CLFFBQUcsR0FBRyxNQUFNLEVBQUUsQ0FBQztRQU9mLGdCQUFXLEdBQVksSUFBSSxDQUFDOzs7O1FBSXBDLGdCQUFXLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7Ozs7UUFRN0MsYUFBUSxHQUFHLEtBQUssQ0FBQztRQXdEaEIsc0JBQWlCOzs7O1FBQUcsVUFBQyxNQUFXO1FBQ3hDLENBQUMsRUFBQTtRQUVPLHFCQUFnQjs7OztRQUFHLFVBQUMsTUFBVztRQUN2QyxDQUFDLEVBQUE7UUEzQkMsT0FBTyxDQUFDLElBQUksQ0FBQyx3RUFBd0UsQ0FBQyxDQUFDO0lBQ3pGLENBQUM7SUExQkQsc0JBQ0ksb0RBQWdCO1FBUHBCOzs7OztXQUtHOzs7Ozs7Ozs7UUFDSCxVQUNxQixLQUFjO1lBQ2pDLE9BQU8sQ0FBQyxJQUFJLENBQUMsaUVBQWlFLENBQUMsQ0FBQztZQUNoRixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FB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OztPQUFBOztnQkFqSkYsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSxpQkFBaUI7b0JBQzNCLHdKQUFrQztvQkFFbEMsU0FBUyxFQUFFO3dCQUNUOzRCQUNFLE9BQU8sRUFBRSxpQkFBaUI7NEJBQzFCLFdBQVcsRUFBRSxVQUFVOzs7NEJBQUMsY0FBTSxPQUFBLHNCQUFzQixFQUF0QixDQUFzQixFQUFDOzRCQUNyRCxLQUFLLEVBQUUsSUFBSTt5QkFDWjtxQkFDRjtvQkFDRCxJQUFJLEVBQUU7d0JBQ0osdUJBQXVCLEVBQUUsWUFBWTt3QkFDckMscUJBQXFCLEVBQUUsVUFBVTt3QkFDakMsc0JBQXNCLEVBQUUsVUFBVTtxQkFDbkM7O2lCQUNGOzs7O2dCQTVCQyxTQUFTOzs7MkJBaUNSLGVBQWUsU0FBQyxtQkFBbUI7OEJBUW5DLE1BQU0sU0FBQyxlQUFlO3VCQUl0QixLQUFLLFNBQUMsUUFBUTsyQkFJZCxLQUFLLFNBQUMsVUFBVTttQ0FTaEIsS0FBSyxTQUFDLG9CQUFvQjs2QkFZMUIsS0FBSyxTQUFDLGNBQWM7d0JBaUJwQixLQUFLLFNBQUMsU0FBUzs7SUF1RWxCLDZCQUFDO0NBQUEsQUFsSkQsSUFrSkM7U0FqSVksc0JBQXNCOzs7Ozs7SUFFakMscUNBQXVCOzs7OztJQUV2QiwwQ0FDaUQ7Ozs7O0lBRWpELGlEQUE2Qzs7Ozs7SUFFN0MsNkNBQW9DOzs7OztJQUdwQyw2Q0FDb0Q7Ozs7O0lBR3BELHNDQUNhOzs7OztJQUdiLDBDQUN3Qjs7Ozs7SUF3RHhCLG1EQUNDOzs7OztJQUVELGtEQUNDOzs7OztJQTVCVywwQ0FBMkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBZnRlckNvbnRlbnRJbml0LFxuICBDb21wb25lbnQsXG4gIENvbnRlbnRDaGlsZHJlbixcbiAgRXZlbnRFbWl0dGVyLFxuICBmb3J3YXJkUmVmLFxuICBJbnB1dCwgT25Jbml0LFxuICBPdXRwdXQsXG4gIFF1ZXJ5TGlzdCxcbiAgUmVuZGVyZXIyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtDb250cm9sVmFsdWVBY2Nlc3NvciwgTkdfVkFMVUVfQUNDRVNTT1J9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7TnhSYWRpb0NpcmNsZUJ1dHRvbn0gZnJvbSAnLi9yYWRpby1jaXJjbGUtYnV0dG9uJztcbmltcG9ydCB7Y29lcmNlQm9vbGVhblByb3BlcnR5fSBmcm9tICdAYW5ndWxhci9jZGsvY29lcmNpb24nO1xuXG5sZXQgbmV4dElkID0gMDtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYG54LWNpcmNsZS10b2dnbGUtZ3JvdXBgIGluc3RlYWRcbiAqIEBkZWxldGlvbi10YXJnZXQgOC4wLjBcbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbngtcmFkaW8tY2lyY2xlJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3JhZGlvLWNpcmNsZS5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vcmFkaW8tY2lyY2xlLWJ1dHRvbi5zY3NzJ10sXG4gIHByb3ZpZGVyczogW1xuICAgIHtcbiAgICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gTnhSYWRpb0NpcmNsZUNvbXBvbmVudCksXG4gICAgICBtdWx0aTogdHJ1ZVxuICAgIH1cbiAgXSxcbiAgaG9zdDoge1xuICAgICdbY2xhc3MuaXMtcmVzcG9uc2l2ZV0nOiAncmVzcG9uc2l2ZScsXG4gICAgJ1tjbGFzcy5pcy1kaXNhYmxlZF0nOiAnZGlzYWJsZWQnLFxuICAgICdbYXR0ci5hcmlhLWRpc2FibGVkXSc6ICdkaXNhYmxlZCcsXG4gIH1cbn0pXG5leHBvcnQgY2xhc3MgTnhSYWRpb0NpcmNsZUNvbXBvbmVudCBpbXBsZW1lbnRzIENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBBZnRlckNvbnRlbnRJbml0IHtcblxuICBwcml2YXRlIF9pZCA9IG5leHRJZCsrO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oTnhSYWRpb0NpcmNsZUJ1dHRvbilcbiAgcHJpdmF0ZSBfYnV0dG9uczogUXVlcnlMaXN0PE54UmFkaW9DaXJjbGVCdXR0b24+O1xuXG4gIHByaXZhdGUgX3NlbGVjdGVkQnV0dG9uOiBOeFJhZGlvQ2lyY2xlQnV0dG9uO1xuXG4gIHByaXZhdGUgX3Jlc3BvbnNpdmU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIC8qKiBBbiBldmVudCBlbWl0dGVkIHdoZW4gdGhlIHNlbGVjdGlvbiBjaGFuZ2VzLiAqL1xuICBAT3V0cHV0KCdueFZhbHVlQ2hhbmdlJylcbiAgdmFsdWVDaGFuZ2U6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIC8qKiBTZXRzIHRoZSBuYW1lIG9mIHRoZSByYWRpbyBjaXJjbGUsIHdoaWNoIGlzIHVzZWQgZm9yIGFjY2Vzc2liaWxpdHkuICovXG4gIEBJbnB1dCgnbnhOYW1lJylcbiAgbmFtZTogc3RyaW5nO1xuXG4gIC8qKiBXaGV0aGVyIHRoZSByYWRpbyBjaXJjbGUgaXMgZGlzYWJsZWQuICovXG4gIEBJbnB1dCgnZGlzYWJsZWQnKVxuICBwdWJsaWMgZGlzYWJsZWQgPSBmYWxzZTtcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgdG9nZ2xlIGJlaGF2aW9yIGlzIGRpc2FibGVkLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYG54UmVzcG9uc2l2ZWAgaW5zdGVhZFxuICAgKiBAZGVsZXRpb24tdGFyZ2V0IDcuMC4wXG4gICAqL1xuICBASW5wdXQoJ254UmVzcG9uc2l2ZVRvZ2dsZScpXG4gIHNldCByZXNwb25zaXZlVG9nZ2xlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgY29uc29sZS53YXJuKCdgbnhSZXNwb25zaXZlVG9nZ2xlYCBpcyBkZXByZWNhdGVkLiBVc2UgYG54UmVzcG9uc2l2ZWAgaW5zdGVhZC4nKTtcbiAgICB0aGlzLnJlc3BvbnNpdmUgPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSByYWRpbyBjaXJjbGUgc2hvdWxkIGhhdmUgYSByZXNwb25zaXZlIGJlaGF2aW9yLlxuICAgKlxuICAgKiBPbiBmYWxzZSB0aGUgY2lyY2xlcyB3aWxsIHN0YXkgZXZlbiBvbiBtb2JpbGUgdmlld3BvcnRzLlxuICAgKiBEZWZhdWx0OiB0cnVlLlxuICAgKi9cbiAgQElucHV0KCdueFJlc3BvbnNpdmUnKVxuICBzZXQgcmVzcG9uc2l2ZSh2YWx1ZTogYm9vbGVhbikge1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gY29lcmNlQm9vbGVhblByb3BlcnR5KHZhbHVlKTtcbiAgICBpZiAobmV3VmFsdWUgIT09IHRoaXMucmVzcG9uc2l2ZSkge1xuICAgICAgdGhpcy5fcmVzcG9uc2l2ZSA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGdldCByZXNwb25zaXZlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9yZXNwb25zaXZlO1xuICB9XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyKSB7XG4gICAgY29uc29sZS53YXJuKCdgbngtcmFkaW8tY2lyY2xlYCBpcyBkZXByZWNhdGVkLiBVc2UgYG54LWNpcmNsZS10b2dnbGUtZ3JvdXBgIGluc3RlYWQuJyk7XG4gIH1cblxuICAvKiogU2V0cyB0aGUgdmFsdWUgb2YgdGhlIHJhZGlvIGNpcmNsZS4gKi9cbiAgQElucHV0KCdueFZhbHVlJylcbiAgc2V0IHZhbHVlKHZhbHVlOiBhbnkpIHtcbiAgICB0aGlzLndyaXRlVmFsdWUodmFsdWUpO1xuICB9XG5cbiAgZ2V0IHZhbHVlKCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkQnV0dG9uID8gdGhpcy5fc2VsZWN0ZWRCdXR0b24udmFsdWUgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkb2NzLXByaXZhdGVcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGByZXNwb25zaXZlYCBnZXR0ZXJcbiAgICogQGRlbGV0aW9uLXRhcmdldCA3LjAuMFxuICAgKi9cbiAgZ2V0UmVzcG9zaXZlVG9nZ2xlKCk6IGFueSB7XG4gICAgY29uc29sZS53YXJuKCdUaGUgbWV0aG9kIGBnZXRSZXNwb25zaXZlVG9nZ2xlIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgYHJlc3BvbnNpdmVgIGdldHRlciBpbnN0ZWFkJyk7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNpdmU7XG4gIH1cblxuICBwcml2YXRlIG9uVG91Y2hlZENhbGxiYWNrID0gKG9wdGlvbjogYW55KSA9PiB7XG4gIH1cblxuICBwcml2YXRlIG9uQ2hhbmdlQ2FsbGJhY2sgPSAob3B0aW9uOiBhbnkpID0+IHtcbiAgfVxuXG4gIC8qKiBUaGUgaWQgb2YgdGhlIHJhZGlvIGNpcmNsZS4gKi9cbiAgZ2V0IHJhZGlvQ2lyY2xlSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYHJhZGlvLWNpcmNsZS0ke3RoaXMuX2lkfWA7XG4gIH1cblxuICBuZ0FmdGVyQ29udGVudEluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLl9idXR0b25zLmZpcnN0LmxhYmVsRWxlbWVudC5uYXRpdmVFbGVtZW50LCBgbngtcmFkaW8tY2lyY2xlX19sYWJlbC0tZmlyc3RgKTtcbiAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuX2J1dHRvbnMubGFzdC5sYWJlbEVsZW1lbnQubmF0aXZlRWxlbWVudCwgYG54LXJhZGlvLWNpcmNsZV9fbGFiZWwtLWxhc3RgKTtcbiAgfVxuXG4gIHdyaXRlVmFsdWUodmFsdWU6IGFueSk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9idXR0b25zKSB7XG4gICAgICB0aGlzLl9zZWxlY3RlZEJ1dHRvbiA9IHRoaXMuX2J1dHRvbnMuZmluZCgoYnV0dG9uKSA9PiBidXR0b24udmFsdWUgPT09IHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICByZWdpc3Rlck9uQ2hhbmdlKGNhbGxiYWNrOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLm9uQ2hhbmdlQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgfVxuXG4gIHJlZ2lzdGVyT25Ub3VjaGVkKGNhbGxiYWNrOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLm9uVG91Y2hlZENhbGxiYWNrID0gY2FsbGJhY2s7XG4gIH1cblxuICBzZXREaXNhYmxlZFN0YXRlPyhpc0Rpc2FibGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5kaXNhYmxlZCA9IGlzRGlzYWJsZWQ7XG4gIH1cblxuICBzZXQgc2VsZWN0ZWRCdXR0b24oYnV0dG9uOiBOeFJhZGlvQ2lyY2xlQnV0dG9uKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fc2VsZWN0ZWRCdXR0b24gPSBidXR0b247XG4gICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKHRoaXMudmFsdWUpO1xuICAgIHRoaXMudmFsdWVDaGFuZ2UuZW1pdCh0aGlzLnZhbHVlKTtcbiAgfVxuXG4gIC8qKiBAZG9jcy1wcml2YXRlICovXG4gIGdldCBzZWxlY3RlZEJ1dHRvbigpOiBOeFJhZGlvQ2lyY2xlQnV0dG9uIHtcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRCdXR0b247XG4gIH1cblxuICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xuICBnZXQgYnV0dG9ucygpOiBRdWVyeUxpc3Q8TnhSYWRpb0NpcmNsZUJ1dHRvbj4ge1xuICAgIHJldHVybiB0aGlzLl9idXR0b25zO1xuICB9XG59XG5cbiJdfQ==