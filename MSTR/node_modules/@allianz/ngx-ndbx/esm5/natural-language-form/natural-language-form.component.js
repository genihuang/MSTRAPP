/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { coerceBooleanProperty } from '@angular/cdk/coercion';
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ContentChildren, HostListener, Input, QueryList, } from '@angular/core';
import { merge, Subject, Subscription } from 'rxjs';
import { delay, throttleTime } from 'rxjs/operators';
import { NxWordComponent } from './word.component';
/** @type {?} */
var DEFAULT_SIZE = 'large';
var NxNaturalLanguageFormComponent = /** @class */ (function () {
    function NxNaturalLanguageFormComponent(_changeDetectorRef) {
        this._changeDetectorRef = _changeDetectorRef;
        this._negative = false;
        /**
         * \@docs-private
         */
        this.resizeEvent$ = new Subject();
        /**
         * \@docs-private
         */
        this.updatePopoversSubscription = Subscription.EMPTY;
        /**
         * \@docs-private
         */
        this._size = DEFAULT_SIZE;
    }
    Object.defineProperty(NxNaturalLanguageFormComponent.prototype, "negative", {
        get: /**
         * @return {?}
         */
        function () {
            return this._negative;
        },
        /** Whether the negative set of stylings should be used. */
        set: /**
         * Whether the negative set of stylings should be used.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._negative = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NxNaturalLanguageFormComponent.prototype, "size", {
        get: /**
         * @return {?}
         */
        function () {
            return this._size;
        },
        /**
         * Sets the size of the NLF. Default value: large
         */
        set: /**
         * Sets the size of the NLF. Default value: large
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._size = value;
            this._changeDetectorRef.markForCheck();
        },
        enumerable: true,
        configurable: true
    });
    /** @docs-private */
    /**
     * \@docs-private
     * @param {?} event
     * @return {?}
     */
    NxNaturalLanguageFormComponent.prototype.onResize = /**
     * \@docs-private
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.resizeEvent$.next();
    };
    /**
     * @return {?}
     */
    NxNaturalLanguageFormComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // Collect all words and listen for changes so we can update any open error popover
        // which would otherwise get wrongly positioned.
        /** @type {?} */
        var subjects = this._words.map((/**
         * @param {?} word
         * @return {?}
         */
        function (word) { return word.inputChanges; }));
        /** @type {?} */
        var source = merge.apply(void 0, tslib_1.__spread(subjects));
        this.updatePopoversSubscription = source.subscribe((/**
         * @return {?}
         */
        function () {
            _this.updatePositionPopovers();
        }));
        this.resizeObservable = this.resizeEvent$.pipe(throttleTime(500), delay(100));
        this.resizeObservable.subscribe((/**
         * @return {?}
         */
        function () { return _this.resizeWords(); }));
    };
    /** @docs-private */
    /**
     * \@docs-private
     * @return {?}
     */
    NxNaturalLanguageFormComponent.prototype.resizeWords = /**
     * \@docs-private
     * @return {?}
     */
    function () {
        this._words.forEach((/**
         * @param {?} word
         * @return {?}
         */
        function (word) {
            word.updateCurrentTextWidth();
        }));
    };
    /**
     * @return {?}
     */
    NxNaturalLanguageFormComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.updatePopoversSubscription.unsubscribe();
    };
    /** @docs-private */
    /**
     * \@docs-private
     * @return {?}
     */
    NxNaturalLanguageFormComponent.prototype.updatePositionPopovers = /**
     * \@docs-private
     * @return {?}
     */
    function () {
        if (this._words) {
            this._words.forEach((/**
             * @param {?} word
             * @return {?}
             */
            function (word) {
                word.repositionError();
            }));
        }
    };
    NxNaturalLanguageFormComponent.decorators = [
        { type: Component, args: [{
                    selector: 'nx-natural-language-form',
                    template: "<div class=\"nx-natural-language-form__wrapper\">\n    <ng-content></ng-content>\n</div>",
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    host: {
                        '[class.is-negative]': 'negative',
                        '[class.nx-natural-language-form--small]': 'size === "small"',
                        '[class.nx-natural-language-form--large]': 'size === "large"',
                    },
                    styles: [":host{display:block;padding-top:72px;padding-bottom:80px;color:#414141;font-weight:300;font-size:40px;line-height:52px}:host ::ng-deep .c-input{font-size:inherit;line-height:inherit}:host ::ng-deep nx-word+nx-word{margin-left:2px}:host.is-negative{color:#fff}@media (max-width:991px){:host{font-size:26px;line-height:36px}}@media (max-width:703px){:host{font-size:26px}}.nx-natural-language-form__wrapper{display:flex;flex-wrap:wrap}.nx-natural-language-form__wrapper>::ng-deep *{margin-bottom:8px}:host(.nx-natural-language-form--small){font-size:26px;line-height:32px;letter-spacing:.3px}:host(.nx-natural-language-form--small) ::ng-deep .c-input{font-size:inherit;line-height:inherit}"]
                }] }
    ];
    /** @nocollapse */
    NxNaturalLanguageFormComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef }
    ]; };
    NxNaturalLanguageFormComponent.propDecorators = {
        _words: [{ type: ContentChildren, args: [NxWordComponent,] }],
        negative: [{ type: Input, args: ['nxNegative',] }],
        size: [{ type: Input }],
        onResize: [{ type: HostListener, args: ['window:orientationchange', ['$event'],] }, { type: HostListener, args: ['window:resize', ['$event'],] }]
    };
    return NxNaturalLanguageFormComponent;
}());
export { NxNaturalLanguageFormComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    NxNaturalLanguageFormComponent.prototype._negative;
    /**
     * \@docs-private
     * @type {?}
     */
    NxNaturalLanguageFormComponent.prototype.resizeEvent$;
    /**
     * \@docs-private
     * @type {?}
     */
    NxNaturalLanguageFormComponent.prototype.resizeObservable;
    /** @type {?} */
    NxNaturalLanguageFormComponent.prototype._words;
    /**
     * \@docs-private
     * @type {?}
     */
    NxNaturalLanguageFormComponent.prototype.updatePopoversSubscription;
    /**
     * \@docs-private
     * @type {?}
     * @private
     */
    NxNaturalLanguageFormComponent.prototype._size;
    /**
     * @type {?}
     * @private
     */
    NxNaturalLanguageFormComponent.prototype._changeDetectorRef;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF0dXJhbC1sYW5ndWFnZS1mb3JtLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BhbGxpYW56L25neC1uZGJ4LyIsInNvdXJjZXMiOlsibmF0dXJhbC1sYW5ndWFnZS1mb3JtL25hdHVyYWwtbGFuZ3VhZ2UtZm9ybS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUM5RCxPQUFPLEVBRUwsdUJBQXVCLEVBQ3ZCLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsZUFBZSxFQUNmLFlBQVksRUFDWixLQUFLLEVBRUwsU0FBUyxHQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxLQUFLLEVBQWMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNoRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRXJELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQzs7SUFLN0MsWUFBWSxHQUFHLE9BQU87QUFFNUI7SUFtREUsd0NBQW9CLGtCQUFxQztRQUFyQyx1QkFBa0IsR0FBbEIsa0JBQWtCLENBQW1CO1FBdENqRCxjQUFTLEdBQUcsS0FBSyxDQUFDOzs7O1FBRzFCLGlCQUFZLEdBQWtCLElBQUksT0FBTyxFQUFRLENBQUM7Ozs7UUFRbEQsK0JBQTBCLEdBQWlCLFlBQVksQ0FBQyxLQUFLLENBQUM7Ozs7UUFHdEQsVUFBSyxHQUE4QixZQUFZLENBQUM7SUF3QkssQ0FBQztJQXJCOUQsc0JBQ0ksb0RBQVE7Ozs7UUFJWjtZQUNFLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUN4QixDQUFDO1FBUkQsMkRBQTJEOzs7Ozs7UUFDM0QsVUFDYSxLQUFLO1lBQ2hCLElBQUksQ0FBQyxTQUFTLEdBQUcscUJBQXFCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEQsQ0FBQzs7O09BQUE7SUFTRCxzQkFDSSxnREFBSTs7OztRQUlSO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3BCLENBQUM7UUFWRDs7V0FFRzs7Ozs7O1FBQ0gsVUFDUyxLQUFnQztZQUN2QyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUNuQixJQUFJLENBQUMsa0JBQWtCLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDekMsQ0FBQzs7O09BQUE7SUFPRCxvQkFBb0I7Ozs7OztJQUdwQixpREFBUTs7Ozs7SUFGUixVQUVTLEtBQUs7UUFDWixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzNCLENBQUM7Ozs7SUFFRCwyREFBa0I7OztJQUFsQjtRQUFBLGlCQVlDOzs7O1lBVE8sUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRzs7OztRQUFDLFVBQUMsSUFBcUIsSUFBSyxPQUFBLElBQUksQ0FBQyxZQUFZLEVBQWpCLENBQWlCLEVBQUM7O1lBQ3hFLE1BQU0sR0FBRyxLQUFLLGdDQUFJLFFBQVEsRUFBQztRQUVqQyxJQUFJLENBQUMsMEJBQTBCLEdBQUcsTUFBTSxDQUFDLFNBQVM7OztRQUFFO1lBQ2xELEtBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1FBQ2hDLENBQUMsRUFBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM5RSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUzs7O1FBQUMsY0FBTSxPQUFBLEtBQUksQ0FBQyxXQUFXLEVBQUUsRUFBbEIsQ0FBa0IsRUFBQyxDQUFDO0lBQzVELENBQUM7SUFFRCxvQkFBb0I7Ozs7O0lBQ3BCLG9EQUFXOzs7O0lBQVg7UUFDRSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU87Ozs7UUFBQyxVQUFDLElBQXFCO1lBQ3hDLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1FBQ2hDLENBQUMsRUFBQyxDQUFDO0lBQ0wsQ0FBQzs7OztJQUVELG9EQUFXOzs7SUFBWDtRQUNFLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNoRCxDQUFDO0lBRUQsb0JBQW9COzs7OztJQUNwQiwrREFBc0I7Ozs7SUFBdEI7UUFDRSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDZixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU87Ozs7WUFBQyxVQUFDLElBQXFCO2dCQUN4QyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDekIsQ0FBQyxFQUFDLENBQUM7U0FDSjtJQUNILENBQUM7O2dCQTVGRixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLDBCQUEwQjtvQkFDcEMsb0dBQW1EO29CQUNuRCxlQUFlLEVBQUUsdUJBQXVCLENBQUMsTUFBTTtvQkFFL0MsSUFBSSxFQUFFO3dCQUNKLHFCQUFxQixFQUFFLFVBQVU7d0JBQ2pDLHlDQUF5QyxFQUFHLGtCQUFrQjt3QkFDOUQseUNBQXlDLEVBQUcsa0JBQWtCO3FCQUMvRDs7aUJBQ0Y7Ozs7Z0JBNUJDLGlCQUFpQjs7O3lCQXVDaEIsZUFBZSxTQUFDLGVBQWU7MkJBUy9CLEtBQUssU0FBQyxZQUFZO3VCQVlsQixLQUFLOzJCQVlMLFlBQVksU0FBQywwQkFBMEIsRUFBRSxDQUFDLFFBQVEsQ0FBQyxjQUNuRCxZQUFZLFNBQUMsZUFBZSxFQUFFLENBQUMsUUFBUSxDQUFDOztJQXNDM0MscUNBQUM7Q0FBQSxBQTdGRCxJQTZGQztTQWpGWSw4QkFBOEI7Ozs7OztJQUN6QyxtREFBMEI7Ozs7O0lBRzFCLHNEQUFrRDs7Ozs7SUFHbEQsMERBQW1DOztJQUVuQyxnREFBcUU7Ozs7O0lBR3JFLG9FQUE4RDs7Ozs7O0lBRzlELCtDQUF3RDs7Ozs7SUF3QjVDLDREQUE2QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvZXJjZUJvb2xlYW5Qcm9wZXJ0eSB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9jb2VyY2lvbic7XG5pbXBvcnQge1xuICBBZnRlckNvbnRlbnRJbml0LFxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgQ29udGVudENoaWxkcmVuLFxuICBIb3N0TGlzdGVuZXIsXG4gIElucHV0LFxuICBPbkRlc3Ryb3ksXG4gIFF1ZXJ5TGlzdCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBtZXJnZSwgT2JzZXJ2YWJsZSwgU3ViamVjdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBkZWxheSwgdGhyb3R0bGVUaW1lIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBOeFdvcmRDb21wb25lbnQgfSBmcm9tICcuL3dvcmQuY29tcG9uZW50JztcblxuLyoqIFNpemUgb2YgdGhlIE5MRi4gKi9cbmV4cG9ydCB0eXBlIE54TmF0dXJhbExhbmd1YWdlRm9ybVNpemUgPSAnc21hbGwnIHwgJ2xhcmdlJztcblxuY29uc3QgREVGQVVMVF9TSVpFID0gJ2xhcmdlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbngtbmF0dXJhbC1sYW5ndWFnZS1mb3JtJyxcbiAgdGVtcGxhdGVVcmw6ICduYXR1cmFsLWxhbmd1YWdlLWZvcm0uY29tcG9uZW50Lmh0bWwnLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgc3R5bGVVcmxzOiBbJ25hdHVyYWwtbGFuZ3VhZ2UtZm9ybS5zY3NzJ10sXG4gIGhvc3Q6IHtcbiAgICAnW2NsYXNzLmlzLW5lZ2F0aXZlXSc6ICduZWdhdGl2ZScsXG4gICAgJ1tjbGFzcy5ueC1uYXR1cmFsLWxhbmd1YWdlLWZvcm0tLXNtYWxsXScgOiAnc2l6ZSA9PT0gXCJzbWFsbFwiJyxcbiAgICAnW2NsYXNzLm54LW5hdHVyYWwtbGFuZ3VhZ2UtZm9ybS0tbGFyZ2VdJyA6ICdzaXplID09PSBcImxhcmdlXCInLFxuICB9XG59KVxuXG5leHBvcnQgY2xhc3MgTnhOYXR1cmFsTGFuZ3VhZ2VGb3JtQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJDb250ZW50SW5pdCwgT25EZXN0cm95IHtcbiAgcHJpdmF0ZSBfbmVnYXRpdmUgPSBmYWxzZTtcblxuICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xuICByZXNpemVFdmVudCQ6IFN1YmplY3Q8dm9pZD4gPSBuZXcgU3ViamVjdDx2b2lkPigpO1xuXG4gIC8qKiBAZG9jcy1wcml2YXRlICovXG4gIHJlc2l6ZU9ic2VydmFibGU6IE9ic2VydmFibGU8dm9pZD47XG5cbiAgQENvbnRlbnRDaGlsZHJlbihOeFdvcmRDb21wb25lbnQpIF93b3JkczogUXVlcnlMaXN0PE54V29yZENvbXBvbmVudD47XG5cbiAgLyoqIEBkb2NzLXByaXZhdGUgKi9cbiAgdXBkYXRlUG9wb3ZlcnNTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbiA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcblxuICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xuICBwcml2YXRlIF9zaXplOiBOeE5hdHVyYWxMYW5ndWFnZUZvcm1TaXplID0gREVGQVVMVF9TSVpFO1xuXG4gIC8qKiBXaGV0aGVyIHRoZSBuZWdhdGl2ZSBzZXQgb2Ygc3R5bGluZ3Mgc2hvdWxkIGJlIHVzZWQuICovXG4gIEBJbnB1dCgnbnhOZWdhdGl2ZScpXG4gIHNldCBuZWdhdGl2ZSh2YWx1ZSkge1xuICAgIHRoaXMuX25lZ2F0aXZlID0gY29lcmNlQm9vbGVhblByb3BlcnR5KHZhbHVlKTtcbiAgfVxuXG4gIGdldCBuZWdhdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbmVnYXRpdmU7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgc2l6ZSBvZiB0aGUgTkxGLiBEZWZhdWx0IHZhbHVlOiBsYXJnZVxuICAgKi9cbiAgQElucHV0KClcbiAgc2V0IHNpemUodmFsdWU6IE54TmF0dXJhbExhbmd1YWdlRm9ybVNpemUpIHtcbiAgICB0aGlzLl9zaXplID0gdmFsdWU7XG4gICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XG4gIH1cbiAgZ2V0IHNpemUoKTogTnhOYXR1cmFsTGFuZ3VhZ2VGb3JtU2l6ZSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9jaGFuZ2VEZXRlY3RvclJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHsgfVxuXG4gIC8qKiBAZG9jcy1wcml2YXRlICovXG4gIEBIb3N0TGlzdGVuZXIoJ3dpbmRvdzpvcmllbnRhdGlvbmNoYW5nZScsIFsnJGV2ZW50J10pXG4gIEBIb3N0TGlzdGVuZXIoJ3dpbmRvdzpyZXNpemUnLCBbJyRldmVudCddKVxuICBvblJlc2l6ZShldmVudCkge1xuICAgIHRoaXMucmVzaXplRXZlbnQkLm5leHQoKTtcbiAgfVxuXG4gIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcbiAgICAvLyBDb2xsZWN0IGFsbCB3b3JkcyBhbmQgbGlzdGVuIGZvciBjaGFuZ2VzIHNvIHdlIGNhbiB1cGRhdGUgYW55IG9wZW4gZXJyb3IgcG9wb3ZlclxuICAgIC8vIHdoaWNoIHdvdWxkIG90aGVyd2lzZSBnZXQgd3JvbmdseSBwb3NpdGlvbmVkLlxuICAgIGNvbnN0IHN1YmplY3RzID0gdGhpcy5fd29yZHMubWFwKCh3b3JkOiBOeFdvcmRDb21wb25lbnQpID0+IHdvcmQuaW5wdXRDaGFuZ2VzKTtcbiAgICBjb25zdCBzb3VyY2UgPSBtZXJnZSguLi5zdWJqZWN0cyk7XG5cbiAgICB0aGlzLnVwZGF0ZVBvcG92ZXJzU3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZSggKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVQb3NpdGlvblBvcG92ZXJzKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlc2l6ZU9ic2VydmFibGUgPSB0aGlzLnJlc2l6ZUV2ZW50JC5waXBlKHRocm90dGxlVGltZSg1MDApLCBkZWxheSgxMDApKTtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmFibGUuc3Vic2NyaWJlKCgpID0+IHRoaXMucmVzaXplV29yZHMoKSk7XG4gIH1cblxuICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xuICByZXNpemVXb3JkcygpIHtcbiAgICB0aGlzLl93b3Jkcy5mb3JFYWNoKCh3b3JkOiBOeFdvcmRDb21wb25lbnQpID0+IHtcbiAgICAgIHdvcmQudXBkYXRlQ3VycmVudFRleHRXaWR0aCgpO1xuICAgIH0pO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVQb3BvdmVyc1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgLyoqIEBkb2NzLXByaXZhdGUgKi9cbiAgdXBkYXRlUG9zaXRpb25Qb3BvdmVycygpIHtcbiAgICBpZiAodGhpcy5fd29yZHMpIHtcbiAgICAgIHRoaXMuX3dvcmRzLmZvckVhY2goKHdvcmQ6IE54V29yZENvbXBvbmVudCkgPT4ge1xuICAgICAgICB3b3JkLnJlcG9zaXRpb25FcnJvcigpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iXX0=